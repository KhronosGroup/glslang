spv.debuginfo.glsl.frag
// Module Version 10000
// Generated by (magic number): 8000b
// Id's are bound by 883

                              Capability Shader
                              Capability ImageQuery
                              Extension  "SPV_KHR_non_semantic_info"
               1:             ExtInstImport  "NonSemantic.Shader.DebugInfo.100"
               3:             ExtInstImport  "GLSL.std.450"
                              MemoryModel Logical GLSL450
                              EntryPoint Fragment 14  "main" 501 555
                              ExecutionMode 14 OriginUpperLeft
               2:             String  "spv.debuginfo.glsl.frag"
               8:             String  "uint"
              17:             String  "float"
              39:             String  "textureProj"
              42:             String  "// OpModuleProcessed auto-map-locations
// OpModuleProcessed auto-map-bindings
// OpModuleProcessed client vulkan100
// OpModuleProcessed target-env vulkan1.0
// OpModuleProcessed keep-uncalled
// OpModuleProcessed entry-point main
#line 1
/*
The MIT License (MIT)

Copyright (c) 2022 Sascha Willems

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

#version 450

layout (binding = 1) uniform sampler2D samplerposition;
layout (binding = 2) uniform sampler2D samplerNormal;
layout (binding = 3) uniform sampler2D samplerAlbedo;
layout (binding = 5) uniform sampler2DArray samplerShadowMap;

layout (location = 0) in vec2 inUV;

layout (location = 0) out vec4 outFragColor;

#define LIGHT_COUNT 3
#define SHADOW_FACTOR 0.25
#define AMBIENT_LIGHT 0.1
#define USE_PCF

int global_var = 0;

struct Light 
{
	vec4 position;
	vec4 target;
	vec4 color;
	mat4 viewMatrix;
};

layout (binding = 4) uniform UBO 
{
	vec4 viewPos;
	Light lights[LIGHT_COUNT];
	int useShadows;
	int debugDisplayTarget;
} ubo;

float textureProj(vec4 P, float layer, vec2 offset)
{
	float shadow = 1.0;
	vec4 shadowCoord = P / P.w;
	shadowCoord.st = shadowCoord.st * 0.5 + 0.5;
	
	if (shadowCoord.z > -1.0 && shadowCoord.z < 1.0) 
	{
		float dist = texture(samplerShadowMap, vec3(shadowCoord.st + offset, layer)).r;
		if (shadowCoord.w > 0.0 && dist < shadowCoord.z) 
		{
			shadow = SHADOW_FACTOR;
		}
	}
	return shadow;
}

float filterPCF(vec4 sc, float layer)
{
	ivec2 texDim = textureSize(samplerShadowMap, 0).xy;
	float scale = 1.5;
	float dx = scale * 1.0 / float(texDim.x);
	float dy = scale * 1.0 / float(texDim.y);

	float shadowFactor = 0.0;
	int count = 0;
	int range = 1;
	
	for (int x = -range; x <= range; x++)
	{
		for (int y = -range; y <= range; y++)
		{
			shadowFactor += textureProj(sc, layer, vec2(dx*x, dy*y));
			count++;
		}
	
	}
	return shadowFactor / count;
}

vec3 shadow(vec3 fragcolor, vec3 fragpos) {
	for(int i = 0; i < LIGHT_COUNT; ++i)
	{
		vec4 shadowClip	= ubo.lights[i].viewMatrix * vec4(fragpos, 1.0);

		float shadowFactor;
		#ifdef USE_PCF
			shadowFactor= filterPCF(shadowClip, i);
		#else
			shadowFactor = textureProj(shadowClip, i, vec2(0.0));
		#endif

		fragcolor *= shadowFactor;
	}
	return fragcolor;
}

void main() 
{
	// Get G-Buffer values
	vec3 fragPos = texture(samplerposition, inUV).rgb;
	vec3 normal = texture(samplerNormal, inUV).rgb;
	vec4 albedo = texture(samplerAlbedo, inUV);

	// Debug display
	if (ubo.debugDisplayTarget > 0) {
		switch (ubo.debugDisplayTarget) {
			case 1: 
				outFragColor.rgb = shadow(vec3(1.0), fragPos).rgb;
				break;
			case 2: 
				outFragColor.rgb = fragPos;
				break;
			case 3: 
				outFragColor.rgb = normal;
				break;
			case 4: 
				outFragColor.rgb = albedo.rgb;
				break;
			case 5: 
				outFragColor.rgb = albedo.aaa;
				break;
		}		
		outFragColor.a = 1.0;
		return;
	}

	// Ambient part
	vec3 fragcolor  = albedo.rgb * AMBIENT_LIGHT;

	vec3 N = normalize(normal);
		
	for(int i = 0; i < LIGHT_COUNT; ++i)
	{
		// Vector to light
		vec3 L = ubo.lights[i].position.xyz - fragPos;
		// Distance from light to fragment position
		float dist = length(L);
		L = normalize(L);

		// Viewer to fragment
		vec3 V = ubo.viewPos.xyz - fragPos;
		V = normalize(V);

		float lightCosInnerAngle = cos(radians(15.0));
		float lightCosOuterAngle = cos(radians(25.0));
		float lightRange = 100.0;

		// Direction vector from source to target
		vec3 dir = normalize(ubo.lights[i].position.xyz - ubo.lights[i].target.xyz);

		// Dual cone spot light with smooth transition between inner and outer angle
		float cosDir = dot(L, dir);
		float spotEffect = smoothstep(lightCosOuterAngle, lightCosInnerAngle, cosDir);
		float heightAttenuation = smoothstep(lightRange, 0.0f, dist);

		// Diffuse lighting
		float NdotL = max(0.0, dot(N, L));
		vec3 diff = vec3(NdotL);

		// Specular lighting
		vec3 R = reflect(-L, N);
		float NdotR = max(0.0, dot(R, V));
		vec3 spec = vec3(pow(NdotR, 16.0) * albedo.a * 2.5);

		fragcolor += vec3((diff + spec) * spotEffect * heightAttenuation) * ubo.lights[i].color.rgb * albedo.rgb;
	}    	

	// Shadow calculations in a separate pass
	if (ubo.useShadows > 0)
	{
		fragcolor = shadow(fragcolor, fragPos);
	}

	outFragColor = vec4(fragcolor, 1.0);
}
"
              47:             String  "P"
              53:             String  "layer"
              56:             String  "offset"
              64:             String  "filterPCF"
              68:             String  "sc"
              84:             String  "shadow"
              88:             String  "fragcolor"
              93:             String  "fragpos"
              95:             String  "main"
              99:             String  "int"
             105:             String  "global_var"
             120:             String  "shadowCoord"
             142:             String  "bool"
             165:             String  "dist"
             172:             String  "type.2d.image"
             173:             String  "@type.2d.image"
             177:             String  "type.sampled.image"
             178:             String  "@type.sampled.image"
             183:             String  "samplerShadowMap"
             235:             String  "texDim"
             247:             String  "scale"
             254:             String  "dx"
             268:             String  "dy"
             280:             String  "shadowFactor"
             286:             String  "count"
             292:             String  "range"
             299:             String  "x"
             319:             String  "y"
             385:             String  "i"
             403:             String  "shadowClip"
             413:             String  "color"
             418:             String  "viewMatrix"
             421:             String  "Light"
             427:             String  "lights"
             430:             String  "debugDisplayTarget"
             434:             String  "UBO"
             439:             String  "ubo"
             485:             String  "fragPos"
             497:             String  "samplerposition"
             503:             String  "inUV"
             509:             String  "normal"
             515:             String  "samplerNormal"
             522:             String  "albedo"
             528:             String  "samplerAlbedo"
             557:             String  "outFragColor"
             651:             String  "N"
             675:             String  "L"
             701:             String  "V"
             716:             String  "lightCosInnerAngle"
             723:             String  "lightCosOuterAngle"
             730:             String  "lightRange"
             737:             String  "dir"
             753:             String  "cosDir"
             762:             String  "spotEffect"
             772:             String  "heightAttenuation"
             781:             String  "NdotL"
             791:             String  "diff"
             799:             String  "R"
             809:             String  "NdotR"
             819:             String  "spec"
                              Name 14  "main"
                              Name 37  "textureProj(vf4;f1;vf2;"
                              Name 34  "P"
                              Name 35  "layer"
                              Name 36  "offset"
                              Name 62  "filterPCF(vf4;f1;"
                              Name 60  "sc"
                              Name 61  "layer"
                              Name 82  "shadow(vf3;vf3;"
                              Name 80  "fragcolor"
                              Name 81  "fragpos"
                              Name 103  "global_var"
                              Name 112  "shadow"
                              Name 118  "shadowCoord"
                              Name 163  "dist"
                              Name 181  "samplerShadowMap"
                              Name 233  "texDim"
                              Name 245  "scale"
                              Name 252  "dx"
                              Name 266  "dy"
                              Name 278  "shadowFactor"
                              Name 284  "count"
                              Name 290  "range"
                              Name 297  "x"
                              Name 317  "y"
                              Name 350  "param"
                              Name 352  "param"
                              Name 354  "param"
                              Name 383  "i"
                              Name 401  "shadowClip"
                              Name 411  "Light"
                              MemberName 411(Light) 0  "position"
                              MemberName 411(Light) 1  "target"
                              MemberName 411(Light) 2  "color"
                              MemberName 411(Light) 3  "viewMatrix"
                              Name 424  "UBO"
                              MemberName 424(UBO) 0  "viewPos"
                              MemberName 424(UBO) 1  "lights"
                              MemberName 424(UBO) 2  "useShadows"
                              MemberName 424(UBO) 3  "debugDisplayTarget"
                              Name 437  "ubo"
                              Name 451  "shadowFactor"
                              Name 458  "param"
                              Name 460  "param"
                              Name 483  "fragPos"
                              Name 495  "samplerposition"
                              Name 501  "inUV"
                              Name 507  "normal"
                              Name 513  "samplerNormal"
                              Name 520  "albedo"
                              Name 526  "samplerAlbedo"
                              Name 555  "outFragColor"
                              Name 560  "param"
                              Name 563  "param"
                              Name 639  "fragcolor"
                              Name 649  "N"
                              Name 657  "i"
                              Name 673  "L"
                              Name 688  "dist"
                              Name 699  "V"
                              Name 714  "lightCosInnerAngle"
                              Name 721  "lightCosOuterAngle"
                              Name 728  "lightRange"
                              Name 735  "dir"
                              Name 751  "cosDir"
                              Name 760  "spotEffect"
                              Name 770  "heightAttenuation"
                              Name 779  "NdotL"
                              Name 789  "diff"
                              Name 797  "R"
                              Name 807  "NdotR"
                              Name 817  "spec"
                              Name 865  "param"
                              Name 870  "param"
                              Decorate 181(samplerShadowMap) Binding 5
                              Decorate 181(samplerShadowMap) DescriptorSet 0
                              MemberDecorate 411(Light) 0 Offset 0
                              MemberDecorate 411(Light) 1 Offset 16
                              MemberDecorate 411(Light) 2 Offset 32
                              MemberDecorate 411(Light) 3 ColMajor
                              MemberDecorate 411(Light) 3 MatrixStride 16
                              MemberDecorate 411(Light) 3 Offset 48
                              Decorate 422 ArrayStride 112
                              Decorate 424(UBO) Block
                              MemberDecorate 424(UBO) 0 Offset 0
                              MemberDecorate 424(UBO) 1 Offset 16
                              MemberDecorate 424(UBO) 2 Offset 352
                              MemberDecorate 424(UBO) 3 Offset 356
                              Decorate 437(ubo) Binding 4
                              Decorate 437(ubo) DescriptorSet 0
                              Decorate 495(samplerposition) Binding 1
                              Decorate 495(samplerposition) DescriptorSet 0
                              Decorate 501(inUV) Location 0
                              Decorate 513(samplerNormal) Binding 2
                              Decorate 513(samplerNormal) DescriptorSet 0
                              Decorate 526(samplerAlbedo) Binding 3
                              Decorate 526(samplerAlbedo) DescriptorSet 0
                              Decorate 555(outFragColor) Location 0
               4:             TypeVoid
               5:             TypeFunction 4
               7:             TypeInt 32 0
              10:      7(int) Constant 32
              11:      7(int) Constant 6
              12:      7(int) Constant 0
               9:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 8 10 11 12
              13:      7(int) Constant 3
               6:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 13 4
              16:             TypeFloat 32
              18:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 17 10 13 12
              19:             TypeVector 16(float) 4
              20:      7(int) Constant 4
              21:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 18 20
              22:             TypePointer Function 19(fvec4)
              23:      7(int) Constant 7
              24:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 21 23 12
              25:             TypePointer Function 16(float)
              26:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 18 23 12
              27:             TypeVector 16(float) 2
              28:      7(int) Constant 2
              29:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 18 28
              30:             TypePointer Function 27(fvec2)
              31:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 29 23 12
              32:             TypeFunction 16(float) 22(ptr) 25(ptr) 30(ptr)
              33:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 13 18 21 18 29
              41:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 35(DebugSource) 2 42
              43:      7(int) Constant 59
              45:      7(int) Constant 1
              44:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 1(DebugCompilationUnit) 45 20 41 28
              40:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 39 33 41 43 12 44 39 13 43
              46:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 47 21 41 43 12 40 20 45
              49:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 31(DebugExpression)
              52:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 53 18 41 43 12 40 20 28
              55:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 56 29 41 43 12 40 20 13
              58:             TypeFunction 16(float) 22(ptr) 25(ptr)
              59:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 13 18 21 18
              66:      7(int) Constant 76
              65:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 64 59 41 66 12 44 64 13 66
              67:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 68 21 41 66 12 65 20 45
              72:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 53 18 41 66 12 65 20 28
              74:             TypeVector 16(float) 3
              75:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 18 13
              76:             TypePointer Function 74(fvec3)
              77:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 75 23 12
              78:             TypeFunction 74(fvec3) 76(ptr) 76(ptr)
              79:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 13 75 75 75
              86:      7(int) Constant 99
              85:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 84 79 41 86 12 44 84 13 86
              87:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 88 75 41 86 12 85 20 45
              92:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 93 75 41 86 12 85 20 28
              97:      7(int) Constant 116
              96:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 95 6 41 97 12 44 95 13 97
              98:             TypeInt 32 1
             100:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 99 10 20 12
             101:             TypePointer Private 98(int)
             102:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 100 11 12
 103(global_var):    101(ptr) Variable Private
             106:      7(int) Constant 41
             107:      7(int) Constant 8
             104:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 105 100 41 106 12 44 105 103(global_var) 107
             108:     98(int) Constant 0
             114:      7(int) Constant 61
             113:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 84 18 41 114 12 40 20
             117:   16(float) Constant 1065353216
             121:      7(int) Constant 62
             119:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 120 21 41 121 12 40 20
             131:      7(int) Constant 63
             133:   16(float) Constant 1056964608
             141:             TypeBool
             143:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 142 10 28 12
             146:      7(int) Constant 65
             148:   16(float) Constant 3212836864
             162:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 41 12 12 40
             166:      7(int) Constant 67
             164:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 165 18 41 166 12 162 20
             170:             TypeImage 16(float) 2D array sampled format:Unknown
             174:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 0(DebugInfoNone)
             171:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 172 12 41 166 12 44 173 174 13
             175:             TypeSampledImage 170
             176:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 177 12 41 166 12 44 178 174 13
             179:             TypePointer UniformConstant 175
             180:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 176 12 12
181(samplerShadowMap):    179(ptr) Variable UniformConstant
             182:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 183 176 41 166 12 44 183 181(samplerShadowMap) 107
             197:      7(int) Constant 68
             199:   16(float) Constant 0
             214:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 41 12 12 162
             215:   16(float) Constant 1048576000
             218:      7(int) Constant 70
             222:      7(int) Constant 73
             227:      7(int) Constant 74
             229:             TypeVector 98(int) 2
             230:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 100 28
             231:             TypePointer Function 229(ivec2)
             232:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 230 23 12
             236:      7(int) Constant 78
             234:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 235 230 41 236 12 65 20
             241:             TypeVector 98(int) 3
             242:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 100 13
             248:      7(int) Constant 79
             246:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 247 18 41 248 12 65 20
             251:   16(float) Constant 1069547520
             255:      7(int) Constant 80
             253:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 254 18 41 255 12 65 20
             260:             TypePointer Function 98(int)
             261:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 100 23 12
             269:      7(int) Constant 81
             267:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 268 18 41 269 12 65 20
             281:      7(int) Constant 83
             279:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 280 18 41 281 12 65 20
             287:      7(int) Constant 84
             285:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 286 100 41 287 12 65 20
             293:      7(int) Constant 85
             291:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 292 100 41 293 12 65 20
             296:     98(int) Constant 1
             300:      7(int) Constant 87
             298:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 299 100 41 300 12 65 20
             320:      7(int) Constant 89
             318:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 319 100 41 320 12 65 20
             341:      7(int) Constant 91
             360:      7(int) Constant 92
             373:      7(int) Constant 96
             381:      7(int) Constant 97
             386:      7(int) Constant 100
             384:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 385 100 41 386 12 85 20
             399:     98(int) Constant 3
             404:      7(int) Constant 102
             402:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 403 21 41 404 12 85 20
             408:             TypeMatrix 19(fvec4) 4
             410:   141(bool) ConstantTrue
             409:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 108(DebugTypeMatrix) 21 20 410
      411(Light):             TypeStruct 19(fvec4) 19(fvec4) 19(fvec4) 408
             414:      7(int) Constant 47
             412:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 413 21 41 414 23 12 12 13
             415:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 413 21 41 414 23 12 12 13
             416:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 413 21 41 414 23 12 12 13
             419:      7(int) Constant 48
             417:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 418 409 41 419 23 12 12 13
             420:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 421 45 41 404 12 44 421 12 13 412 415 416 417
             422:             TypeArray 411(Light) 13
             423:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 5(DebugTypeArray) 420 13
        424(UBO):             TypeStruct 19(fvec4) 422 98(int) 98(int)
             425:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 413 21 41 414 23 12 12 13
             428:      7(int) Constant 54
             426:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 427 423 41 428 107 12 12 13
             431:      7(int) Constant 56
             429:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 430 100 41 431 11 12 12 13
             432:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 430 100 41 431 11 12 12 13
             433:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 434 45 41 404 12 44 434 12 13 425 426 429 432
             435:             TypePointer Uniform 424(UBO)
             436:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 433 28 12
        437(ubo):    435(ptr) Variable Uniform
             438:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 439 433 41 404 12 44 439 437(ubo) 107
             441:             TypePointer Uniform 408
             442:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 409 28 12
             453:      7(int) Constant 106
             452:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 280 18 41 453 12 85 20
             464:      7(int) Constant 111
             474:      7(int) Constant 113
             479:      7(int) Constant 114
             486:      7(int) Constant 119
             484:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 485 75 41 486 12 96 20
             489:             TypeImage 16(float) 2D sampled format:Unknown
             490:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 172 12 41 486 12 44 173 174 13
             491:             TypeSampledImage 489
             492:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 177 12 41 486 12 44 178 174 13
             493:             TypePointer UniformConstant 491
             494:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 492 12 12
495(samplerposition):    493(ptr) Variable UniformConstant
             496:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 497 492 41 486 12 44 497 495(samplerposition) 107
             499:             TypePointer Input 27(fvec2)
             500:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 29 45 12
       501(inUV):    499(ptr) Variable Input
             502:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 503 29 41 486 12 44 503 501(inUV) 107
             510:      7(int) Constant 120
             508:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 509 75 41 510 12 96 20
513(samplerNormal):    493(ptr) Variable UniformConstant
             514:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 515 492 41 510 12 44 515 513(samplerNormal) 107
             523:      7(int) Constant 121
             521:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 522 21 41 523 12 96 20
526(samplerAlbedo):    493(ptr) Variable UniformConstant
             527:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 528 492 41 523 12 44 528 526(samplerAlbedo) 107
             532:             TypePointer Uniform 98(int)
             533:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 100 28 12
             536:      7(int) Constant 124
             541:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 41 12 12 96
             545:      7(int) Constant 125
             553:             TypePointer Output 19(fvec4)
             554:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 21 13 12
555(outFragColor):    553(ptr) Variable Output
             558:      7(int) Constant 127
             556:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 557 21 41 558 12 44 557 555(outFragColor) 107
             559:   74(fvec3) ConstantComposite 117 117 117
             566:             TypePointer Output 16(float)
             567:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 18 13 12
             575:      7(int) Constant 128
             580:      7(int) Constant 130
             588:      7(int) Constant 131
             593:      7(int) Constant 133
             601:      7(int) Constant 134
             606:      7(int) Constant 136
             615:      7(int) Constant 137
             620:      7(int) Constant 139
             629:      7(int) Constant 140
             635:      7(int) Constant 142
             637:      7(int) Constant 143
             641:      7(int) Constant 147
             640:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 88 75 41 641 12 96 20
             647:   16(float) Constant 1036831949
             652:      7(int) Constant 149
             650:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 651 75 41 652 12 96 20
             659:      7(int) Constant 151
             658:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 385 100 41 659 12 96 20
             676:      7(int) Constant 154
             674:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 675 75 41 676 12 96 20
             681:             TypePointer Uniform 19(fvec4)
             682:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 21 28 12
             690:      7(int) Constant 156
             689:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 165 18 41 690 12 96 20
             697:      7(int) Constant 157
             702:      7(int) Constant 160
             700:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 701 75 41 702 12 96 20
             712:      7(int) Constant 161
             717:      7(int) Constant 163
             715:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 716 18 41 717 12 96 20
             720:   16(float) Constant 1064781546
             724:      7(int) Constant 164
             722:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 723 18 41 724 12 96 20
             727:   16(float) Constant 1063781322
             731:      7(int) Constant 165
             729:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 730 18 41 731 12 96 20
             734:   16(float) Constant 1120403456
             738:      7(int) Constant 168
             736:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 737 75 41 738 12 96 20
             754:      7(int) Constant 171
             752:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 753 18 41 754 12 96 20
             763:      7(int) Constant 172
             761:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 762 18 41 763 12 96 20
             773:      7(int) Constant 173
             771:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 772 18 41 773 12 96 20
             782:      7(int) Constant 176
             780:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 781 18 41 782 12 96 20
             792:      7(int) Constant 177
             790:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 791 75 41 792 12 96 20
             800:      7(int) Constant 180
             798:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 799 75 41 800 12 96 20
             810:      7(int) Constant 181
             808:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 809 18 41 810 12 96 20
             820:      7(int) Constant 182
             818:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 819 75 41 820 12 96 20
             824:   16(float) Constant 1098907648
             829:   16(float) Constant 1075838976
             834:      7(int) Constant 184
             842:     98(int) Constant 2
             859:      7(int) Constant 188
             864:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 41 12 12 96
             869:      7(int) Constant 190
             876:      7(int) Constant 193
             882:      7(int) Constant 194
        14(main):           4 Function None 5
              15:             Label
    483(fragPos):     76(ptr) Variable Function
     507(normal):     76(ptr) Variable Function
     520(albedo):     22(ptr) Variable Function
      560(param):     76(ptr) Variable Function
      563(param):     76(ptr) Variable Function
  639(fragcolor):     76(ptr) Variable Function
          649(N):     76(ptr) Variable Function
          657(i):    260(ptr) Variable Function
          673(L):     76(ptr) Variable Function
       688(dist):     25(ptr) Variable Function
          699(V):     76(ptr) Variable Function
714(lightCosInnerAngle):     25(ptr) Variable Function
721(lightCosOuterAngle):     25(ptr) Variable Function
 728(lightRange):     25(ptr) Variable Function
        735(dir):     76(ptr) Variable Function
     751(cosDir):     25(ptr) Variable Function
 760(spotEffect):     25(ptr) Variable Function
770(heightAttenuation):     25(ptr) Variable Function
      779(NdotL):     25(ptr) Variable Function
       789(diff):     76(ptr) Variable Function
          797(R):     76(ptr) Variable Function
      807(NdotR):     25(ptr) Variable Function
       817(spec):     76(ptr) Variable Function
      865(param):     76(ptr) Variable Function
      870(param):     76(ptr) Variable Function
             109:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 44
             110:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 106 106 12 12
                              Store 103(global_var) 108
             481:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             482:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 97 97 12 12
             480:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 96 14(main)
             488:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 486 486 12 12
             487:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 484 483(fragPos) 49
             498:         491 Load 495(samplerposition)
             504:   27(fvec2) Load 501(inUV)
             505:   19(fvec4) ImageSampleImplicitLod 498 504
             506:   74(fvec3) VectorShuffle 505 505 0 1 2
                              Store 483(fragPos) 506
             512:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 510 510 12 12
             511:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 508 507(normal) 49
             516:         491 Load 513(samplerNormal)
             517:   27(fvec2) Load 501(inUV)
             518:   19(fvec4) ImageSampleImplicitLod 516 517
             519:   74(fvec3) VectorShuffle 518 518 0 1 2
                              Store 507(normal) 519
             525:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 523 523 12 12
             524:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 521 520(albedo) 49
             529:         491 Load 526(samplerAlbedo)
             530:   27(fvec2) Load 501(inUV)
             531:   19(fvec4) ImageSampleImplicitLod 529 530
                              Store 520(albedo) 531
             535:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 536 536 12 12
             534:    532(ptr) AccessChain 437(ubo) 399
             537:     98(int) Load 534
             538:   141(bool) SGreaterThan 537 108
                              SelectionMerge 540 None
                              BranchConditional 538 539 540
             539:               Label
             543:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 541
             544:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 545 545 12 12
             542:    532(ptr)   AccessChain 437(ubo) 399
             546:     98(int)   Load 542
                                SelectionMerge 552 None
                                Switch 546 552 
                                       case 1: 547
                                       case 2: 548
                                       case 3: 549
                                       case 4: 550
                                       case 5: 551
             547:                 Label
             561:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 541
             562:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 558 558 12 12
                                  Store 560(param) 559
             564:   74(fvec3)     Load 483(fragPos)
                                  Store 563(param) 564
             565:   74(fvec3)     FunctionCall 82(shadow(vf3;vf3;) 560(param) 563(param)
             568:    566(ptr)     AccessChain 555(outFragColor) 12
             569:   16(float)     CompositeExtract 565 0
                                  Store 568 569
             570:    566(ptr)     AccessChain 555(outFragColor) 45
             571:   16(float)     CompositeExtract 565 1
                                  Store 570 571
             572:    566(ptr)     AccessChain 555(outFragColor) 28
             573:   16(float)     CompositeExtract 565 2
                                  Store 572 573
             574:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 575 575 12 12
                                  Branch 552
             548:                 Label
             578:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 541
             579:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 580 580 12 12
             577:   74(fvec3)     Load 483(fragPos)
             581:    566(ptr)     AccessChain 555(outFragColor) 12
             582:   16(float)     CompositeExtract 577 0
                                  Store 581 582
             583:    566(ptr)     AccessChain 555(outFragColor) 45
             584:   16(float)     CompositeExtract 577 1
                                  Store 583 584
             585:    566(ptr)     AccessChain 555(outFragColor) 28
             586:   16(float)     CompositeExtract 577 2
                                  Store 585 586
             587:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 588 588 12 12
                                  Branch 552
             549:                 Label
             591:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 541
             592:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 593 593 12 12
             590:   74(fvec3)     Load 507(normal)
             594:    566(ptr)     AccessChain 555(outFragColor) 12
             595:   16(float)     CompositeExtract 590 0
                                  Store 594 595
             596:    566(ptr)     AccessChain 555(outFragColor) 45
             597:   16(float)     CompositeExtract 590 1
                                  Store 596 597
             598:    566(ptr)     AccessChain 555(outFragColor) 28
             599:   16(float)     CompositeExtract 590 2
                                  Store 598 599
             600:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 601 601 12 12
                                  Branch 552
             550:                 Label
             604:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 541
             605:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 606 606 12 12
             603:   19(fvec4)     Load 520(albedo)
             607:   74(fvec3)     VectorShuffle 603 603 0 1 2
             608:    566(ptr)     AccessChain 555(outFragColor) 12
             609:   16(float)     CompositeExtract 607 0
                                  Store 608 609
             610:    566(ptr)     AccessChain 555(outFragColor) 45
             611:   16(float)     CompositeExtract 607 1
                                  Store 610 611
             612:    566(ptr)     AccessChain 555(outFragColor) 28
             613:   16(float)     CompositeExtract 607 2
                                  Store 612 613
             614:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 615 615 12 12
                                  Branch 552
             551:                 Label
             618:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 541
             619:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 620 620 12 12
             617:   19(fvec4)     Load 520(albedo)
             621:   74(fvec3)     VectorShuffle 617 617 3 3 3
             622:    566(ptr)     AccessChain 555(outFragColor) 12
             623:   16(float)     CompositeExtract 621 0
                                  Store 622 623
             624:    566(ptr)     AccessChain 555(outFragColor) 45
             625:   16(float)     CompositeExtract 621 1
                                  Store 624 625
             626:    566(ptr)     AccessChain 555(outFragColor) 28
             627:   16(float)     CompositeExtract 621 2
                                  Store 626 627
             628:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 629 629 12 12
                                  Branch 552
             552:               Label
             633:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 541
             634:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 635 635 12 12
             632:    566(ptr)   AccessChain 555(outFragColor) 13
                                Store 632 117
             636:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 637 637 12 12
                                Return
             540:             Label
             643:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             644:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 641 641 12 12
             642:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 640 639(fragcolor) 49
             645:   19(fvec4) Load 520(albedo)
             646:   74(fvec3) VectorShuffle 645 645 0 1 2
             648:   74(fvec3) VectorTimesScalar 646 647
                              Store 639(fragcolor) 648
             654:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 652 652 12 12
             653:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 650 649(N) 49
             655:   74(fvec3) Load 507(normal)
             656:   74(fvec3) ExtInst 3(GLSL.std.450) 69(Normalize) 655
                              Store 649(N) 656
             661:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 659 659 12 12
             660:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 658 657(i) 49
                              Store 657(i) 108
                              Branch 662
             662:             Label
             666:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             667:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 659 659 12 12
                              LoopMerge 664 665 None
                              Branch 668
             668:             Label
             670:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             671:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 659 659 12 12
             669:     98(int) Load 657(i)
             672:   141(bool) SLessThan 669 399
                              BranchConditional 672 663 664
             663:               Label
             678:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             679:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 676 676 12 12
             677:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 674 673(L) 49
             680:     98(int)   Load 657(i)
             683:    681(ptr)   AccessChain 437(ubo) 296 680 108
             684:   19(fvec4)   Load 683
             685:   74(fvec3)   VectorShuffle 684 684 0 1 2
             686:   74(fvec3)   Load 483(fragPos)
             687:   74(fvec3)   FSub 685 686
                                Store 673(L) 687
             692:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 690 690 12 12
             691:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 689 688(dist) 49
             693:   74(fvec3)   Load 673(L)
             694:   16(float)   ExtInst 3(GLSL.std.450) 66(Length) 693
                                Store 688(dist) 694
             696:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 697 697 12 12
             695:   74(fvec3)   Load 673(L)
             698:   74(fvec3)   ExtInst 3(GLSL.std.450) 69(Normalize) 695
                                Store 673(L) 698
             704:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 702 702 12 12
             703:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 700 699(V) 49
             705:    681(ptr)   AccessChain 437(ubo) 108
             706:   19(fvec4)   Load 705
             707:   74(fvec3)   VectorShuffle 706 706 0 1 2
             708:   74(fvec3)   Load 483(fragPos)
             709:   74(fvec3)   FSub 707 708
                                Store 699(V) 709
             711:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 712 712 12 12
             710:   74(fvec3)   Load 699(V)
             713:   74(fvec3)   ExtInst 3(GLSL.std.450) 69(Normalize) 710
                                Store 699(V) 713
             719:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 717 717 12 12
             718:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 715 714(lightCosInnerAngle) 49
                                Store 714(lightCosInnerAngle) 720
             726:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 724 724 12 12
             725:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 722 721(lightCosOuterAngle) 49
                                Store 721(lightCosOuterAngle) 727
             733:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 731 731 12 12
             732:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 729 728(lightRange) 49
                                Store 728(lightRange) 734
             740:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 738 738 12 12
             739:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 736 735(dir) 49
             741:     98(int)   Load 657(i)
             742:    681(ptr)   AccessChain 437(ubo) 296 741 108
             743:   19(fvec4)   Load 742
             744:   74(fvec3)   VectorShuffle 743 743 0 1 2
             745:     98(int)   Load 657(i)
             746:    681(ptr)   AccessChain 437(ubo) 296 745 296
             747:   19(fvec4)   Load 746
             748:   74(fvec3)   VectorShuffle 747 747 0 1 2
             749:   74(fvec3)   FSub 744 748
             750:   74(fvec3)   ExtInst 3(GLSL.std.450) 69(Normalize) 749
                                Store 735(dir) 750
             756:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 754 754 12 12
             755:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 752 751(cosDir) 49
             757:   74(fvec3)   Load 673(L)
             758:   74(fvec3)   Load 735(dir)
             759:   16(float)   Dot 757 758
                                Store 751(cosDir) 759
             765:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 763 763 12 12
             764:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 761 760(spotEffect) 49
             766:   16(float)   Load 721(lightCosOuterAngle)
             767:   16(float)   Load 714(lightCosInnerAngle)
             768:   16(float)   Load 751(cosDir)
             769:   16(float)   ExtInst 3(GLSL.std.450) 49(SmoothStep) 766 767 768
                                Store 760(spotEffect) 769
             775:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 773 773 12 12
             774:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 771 770(heightAttenuation) 49
             776:   16(float)   Load 728(lightRange)
             777:   16(float)   Load 688(dist)
             778:   16(float)   ExtInst 3(GLSL.std.450) 49(SmoothStep) 776 199 777
                                Store 770(heightAttenuation) 778
             784:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 782 782 12 12
             783:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 780 779(NdotL) 49
             785:   74(fvec3)   Load 649(N)
             786:   74(fvec3)   Load 673(L)
             787:   16(float)   Dot 785 786
             788:   16(float)   ExtInst 3(GLSL.std.450) 40(FMax) 199 787
                                Store 779(NdotL) 788
             794:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 792 792 12 12
             793:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 790 789(diff) 49
             795:   16(float)   Load 779(NdotL)
             796:   74(fvec3)   CompositeConstruct 795 795 795
                                Store 789(diff) 796
             802:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 800 800 12 12
             801:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 798 797(R) 49
             803:   74(fvec3)   Load 673(L)
             804:   74(fvec3)   FNegate 803
             805:   74(fvec3)   Load 649(N)
             806:   74(fvec3)   ExtInst 3(GLSL.std.450) 71(Reflect) 804 805
                                Store 797(R) 806
             812:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 810 810 12 12
             811:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 808 807(NdotR) 49
             813:   74(fvec3)   Load 797(R)
             814:   74(fvec3)   Load 699(V)
             815:   16(float)   Dot 813 814
             816:   16(float)   ExtInst 3(GLSL.std.450) 40(FMax) 199 815
                                Store 807(NdotR) 816
             822:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 820 820 12 12
             821:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 818 817(spec) 49
             823:   16(float)   Load 807(NdotR)
             825:   16(float)   ExtInst 3(GLSL.std.450) 26(Pow) 823 824
             826:     25(ptr)   AccessChain 520(albedo) 13
             827:   16(float)   Load 826
             828:   16(float)   FMul 825 827
             830:   16(float)   FMul 828 829
             831:   74(fvec3)   CompositeConstruct 830 830 830
                                Store 817(spec) 831
             833:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 834 834 12 12
             832:   74(fvec3)   Load 789(diff)
             835:   74(fvec3)   Load 817(spec)
             836:   74(fvec3)   FAdd 832 835
             837:   16(float)   Load 760(spotEffect)
             838:   74(fvec3)   VectorTimesScalar 836 837
             839:   16(float)   Load 770(heightAttenuation)
             840:   74(fvec3)   VectorTimesScalar 838 839
             841:     98(int)   Load 657(i)
             843:    681(ptr)   AccessChain 437(ubo) 296 841 842
             844:   19(fvec4)   Load 843
             845:   74(fvec3)   VectorShuffle 844 844 0 1 2
             846:   74(fvec3)   FMul 840 845
             847:   19(fvec4)   Load 520(albedo)
             848:   74(fvec3)   VectorShuffle 847 847 0 1 2
             849:   74(fvec3)   FMul 846 848
             850:   74(fvec3)   Load 639(fragcolor)
             851:   74(fvec3)   FAdd 850 849
                                Store 639(fragcolor) 851
                                Branch 665
             665:               Label
             853:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             854:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 659 659 12 12
             852:     98(int)   Load 657(i)
             855:     98(int)   IAdd 852 296
                                Store 657(i) 855
                                Branch 662
             664:             Label
             857:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             858:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 859 859 12 12
             856:    532(ptr) AccessChain 437(ubo) 842
             860:     98(int) Load 856
             861:   141(bool) SGreaterThan 860 108
                              SelectionMerge 863 None
                              BranchConditional 861 862 863
             862:               Label
             867:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 864
             868:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 869 869 12 12
             866:   74(fvec3)   Load 639(fragcolor)
                                Store 865(param) 866
             871:   74(fvec3)   Load 483(fragPos)
                                Store 870(param) 871
             872:   74(fvec3)   FunctionCall 82(shadow(vf3;vf3;) 865(param) 870(param)
                                Store 639(fragcolor) 872
                                Branch 863
             863:             Label
             874:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             875:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 876 876 12 12
             873:   74(fvec3) Load 639(fragcolor)
             877:   16(float) CompositeExtract 873 0
             878:   16(float) CompositeExtract 873 1
             879:   16(float) CompositeExtract 873 2
             880:   19(fvec4) CompositeConstruct 877 878 879 117
                              Store 555(outFragColor) 880
             881:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 882 882 12 12
                              Return
                              FunctionEnd
37(textureProj(vf4;f1;vf2;):   16(float) Function None 32
           34(P):     22(ptr) FunctionParameter
       35(layer):     25(ptr) FunctionParameter
      36(offset):     30(ptr) FunctionParameter
              38:             Label
     112(shadow):     25(ptr) Variable Function
118(shadowCoord):     22(ptr) Variable Function
       163(dist):     25(ptr) Variable Function
              50:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
              51:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 43 43 12 12
              48:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 46 34(P) 49
              54:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 52 35(layer) 49
              57:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 55 36(offset) 49
             111:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 40 37(textureProj(vf4;f1;vf2;)
             116:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 114 114 12 12
             115:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 113 112(shadow) 49
                              Store 112(shadow) 117
             123:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 121 121 12 12
             122:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 119 118(shadowCoord) 49
             124:   19(fvec4) Load 34(P)
             125:     25(ptr) AccessChain 34(P) 13
             126:   16(float) Load 125
             127:   19(fvec4) CompositeConstruct 126 126 126 126
             128:   19(fvec4) FDiv 124 127
                              Store 118(shadowCoord) 128
             130:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 131 131 12 12
             129:   19(fvec4) Load 118(shadowCoord)
             132:   27(fvec2) VectorShuffle 129 129 0 1
             134:   27(fvec2) VectorTimesScalar 132 133
             135:   27(fvec2) CompositeConstruct 133 133
             136:   27(fvec2) FAdd 134 135
             137:     25(ptr) AccessChain 118(shadowCoord) 12
             138:   16(float) CompositeExtract 136 0
                              Store 137 138
             139:     25(ptr) AccessChain 118(shadowCoord) 45
             140:   16(float) CompositeExtract 136 1
                              Store 139 140
             145:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 146 146 12 12
             144:     25(ptr) AccessChain 118(shadowCoord) 28
             147:   16(float) Load 144
             149:   141(bool) FOrdGreaterThan 147 148
                              SelectionMerge 151 None
                              BranchConditional 149 150 151
             150:               Label
             153:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
             154:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 146 146 12 12
             152:     25(ptr)   AccessChain 118(shadowCoord) 28
             155:   16(float)   Load 152
             156:   141(bool)   FOrdLessThan 155 117
                                Branch 151
             151:             Label
             157:   141(bool) Phi 149 38 156 150
             160:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
             161:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 146 146 12 12
                              SelectionMerge 159 None
                              BranchConditional 157 158 159
             158:               Label
             168:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 162
             169:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 166 166 12 12
             167:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 164 163(dist) 49
             184:         175   Load 181(samplerShadowMap)
             185:   19(fvec4)   Load 118(shadowCoord)
             186:   27(fvec2)   VectorShuffle 185 185 0 1
             187:   27(fvec2)   Load 36(offset)
             188:   27(fvec2)   FAdd 186 187
             189:   16(float)   Load 35(layer)
             190:   16(float)   CompositeExtract 188 0
             191:   16(float)   CompositeExtract 188 1
             192:   74(fvec3)   CompositeConstruct 190 191 189
             193:   19(fvec4)   ImageSampleImplicitLod 184 192
             194:   16(float)   CompositeExtract 193 0
                                Store 163(dist) 194
             196:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 197 197 12 12
             195:     25(ptr)   AccessChain 118(shadowCoord) 13
             198:   16(float)   Load 195
             200:   141(bool)   FOrdGreaterThan 198 199
                                SelectionMerge 202 None
                                BranchConditional 200 201 202
             201:                 Label
             204:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 162
             205:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 197 197 12 12
             203:   16(float)     Load 163(dist)
             206:     25(ptr)     AccessChain 118(shadowCoord) 28
             207:   16(float)     Load 206
             208:   141(bool)     FOrdLessThan 203 207
                                  Branch 202
             202:               Label
             209:   141(bool)   Phi 200 158 208 201
             212:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 162
             213:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 197 197 12 12
                                SelectionMerge 211 None
                                BranchConditional 209 210 211
             210:                 Label
             216:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 214
             217:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 218 218 12 12
                                  Store 112(shadow) 215
                                  Branch 211
             211:               Label
                                Branch 159
             159:             Label
             220:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
             221:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 222 222 12 12
             219:   16(float) Load 112(shadow)
                              ReturnValue 219
                              FunctionEnd
62(filterPCF(vf4;f1;):   16(float) Function None 58
          60(sc):     22(ptr) FunctionParameter
       61(layer):     25(ptr) FunctionParameter
              63:             Label
     233(texDim):    231(ptr) Variable Function
      245(scale):     25(ptr) Variable Function
         252(dx):     25(ptr) Variable Function
         266(dy):     25(ptr) Variable Function
278(shadowFactor):     25(ptr) Variable Function
      284(count):    260(ptr) Variable Function
      290(range):    260(ptr) Variable Function
          297(x):    260(ptr) Variable Function
          317(y):    260(ptr) Variable Function
      350(param):     22(ptr) Variable Function
      352(param):     25(ptr) Variable Function
      354(param):     30(ptr) Variable Function
              70:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
              71:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 66 66 12 12
              69:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 67 60(sc) 49
              73:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 72 61(layer) 49
             228:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 65 62(filterPCF(vf4;f1;)
             238:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 236 236 12 12
             237:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 234 233(texDim) 49
             239:         175 Load 181(samplerShadowMap)
             240:         170 Image 239
             243:  241(ivec3) ImageQuerySizeLod 240 108
             244:  229(ivec2) VectorShuffle 243 243 0 1
                              Store 233(texDim) 244
             250:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 248 248 12 12
             249:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 246 245(scale) 49
                              Store 245(scale) 251
             257:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 255 255 12 12
             256:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 253 252(dx) 49
             258:   16(float) Load 245(scale)
             259:   16(float) FMul 258 117
             262:    260(ptr) AccessChain 233(texDim) 12
             263:     98(int) Load 262
             264:   16(float) ConvertSToF 263
             265:   16(float) FDiv 259 264
                              Store 252(dx) 265
             271:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 269 269 12 12
             270:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 267 266(dy) 49
             272:   16(float) Load 245(scale)
             273:   16(float) FMul 272 117
             274:    260(ptr) AccessChain 233(texDim) 45
             275:     98(int) Load 274
             276:   16(float) ConvertSToF 275
             277:   16(float) FDiv 273 276
                              Store 266(dy) 277
             283:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 281 281 12 12
             282:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 279 278(shadowFactor) 49
                              Store 278(shadowFactor) 199
             289:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 287 287 12 12
             288:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 285 284(count) 49
                              Store 284(count) 108
             295:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 293 293 12 12
             294:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 291 290(range) 49
                              Store 290(range) 296
             302:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 300 300 12 12
             301:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 298 297(x) 49
             303:     98(int) Load 290(range)
             304:     98(int) SNegate 303
                              Store 297(x) 304
                              Branch 305
             305:             Label
             309:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             310:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 300 300 12 12
                              LoopMerge 307 308 None
                              Branch 311
             311:             Label
             313:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             314:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 300 300 12 12
             312:     98(int) Load 297(x)
             315:     98(int) Load 290(range)
             316:   141(bool) SLessThanEqual 312 315
                              BranchConditional 316 306 307
             306:               Label
             322:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             323:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 320 320 12 12
             321:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 318 317(y) 49
             324:     98(int)   Load 290(range)
             325:     98(int)   SNegate 324
                                Store 317(y) 325
                                Branch 326
             326:               Label
             330:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             331:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 320 320 12 12
                                LoopMerge 328 329 None
                                Branch 332
             332:               Label
             334:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             335:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 320 320 12 12
             333:     98(int)   Load 317(y)
             336:     98(int)   Load 290(range)
             337:   141(bool)   SLessThanEqual 333 336
                                BranchConditional 337 327 328
             327:                 Label
             339:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             340:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 341 341 12 12
             338:   16(float)     Load 252(dx)
             342:     98(int)     Load 297(x)
             343:   16(float)     ConvertSToF 342
             344:   16(float)     FMul 338 343
             345:   16(float)     Load 266(dy)
             346:     98(int)     Load 317(y)
             347:   16(float)     ConvertSToF 346
             348:   16(float)     FMul 345 347
             349:   27(fvec2)     CompositeConstruct 344 348
             351:   19(fvec4)     Load 60(sc)
                                  Store 350(param) 351
             353:   16(float)     Load 61(layer)
                                  Store 352(param) 353
                                  Store 354(param) 349
             355:   16(float)     FunctionCall 37(textureProj(vf4;f1;vf2;) 350(param) 352(param) 354(param)
             356:   16(float)     Load 278(shadowFactor)
             357:   16(float)     FAdd 356 355
                                  Store 278(shadowFactor) 357
             359:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 360 360 12 12
             358:     98(int)     Load 284(count)
             361:     98(int)     IAdd 358 296
                                  Store 284(count) 361
                                  Branch 329
             329:                 Label
             363:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             364:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 320 320 12 12
             362:     98(int)     Load 317(y)
             365:     98(int)     IAdd 362 296
                                  Store 317(y) 365
                                  Branch 326
             328:               Label
                                Branch 308
             308:               Label
             367:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             368:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 300 300 12 12
             366:     98(int)   Load 297(x)
             369:     98(int)   IAdd 366 296
                                Store 297(x) 369
                                Branch 305
             307:             Label
             371:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             372:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 373 373 12 12
             370:   16(float) Load 278(shadowFactor)
             374:     98(int) Load 284(count)
             375:   16(float) ConvertSToF 374
             376:   16(float) FDiv 370 375
                              ReturnValue 376
                              FunctionEnd
82(shadow(vf3;vf3;):   74(fvec3) Function None 78
   80(fragcolor):     76(ptr) FunctionParameter
     81(fragpos):     76(ptr) FunctionParameter
              83:             Label
          383(i):    260(ptr) Variable Function
 401(shadowClip):     22(ptr) Variable Function
451(shadowFactor):     25(ptr) Variable Function
      458(param):     22(ptr) Variable Function
      460(param):     25(ptr) Variable Function
              90:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
              91:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 86 86 12 12
              89:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 87 80(fragcolor) 49
              94:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 92 81(fragpos) 49
             382:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 85 82(shadow(vf3;vf3;)
             388:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 386 386 12 12
             387:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 384 383(i) 49
                              Store 383(i) 108
                              Branch 389
             389:             Label
             393:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
             394:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 386 386 12 12
                              LoopMerge 391 392 None
                              Branch 395
             395:             Label
             397:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
             398:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 386 386 12 12
             396:     98(int) Load 383(i)
             400:   141(bool) SLessThan 396 399
                              BranchConditional 400 390 391
             390:               Label
             406:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
             407:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 404 404 12 12
             405:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 402 401(shadowClip) 49
             440:     98(int)   Load 383(i)
             443:    441(ptr)   AccessChain 437(ubo) 296 440 399
             444:         408   Load 443
             445:   74(fvec3)   Load 81(fragpos)
             446:   16(float)   CompositeExtract 445 0
             447:   16(float)   CompositeExtract 445 1
             448:   16(float)   CompositeExtract 445 2
             449:   19(fvec4)   CompositeConstruct 446 447 448 117
             450:   19(fvec4)   MatrixTimesVector 444 449
                                Store 401(shadowClip) 450
             455:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 453 453 12 12
             454:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 452 451(shadowFactor) 49
             456:     98(int)   Load 383(i)
             457:   16(float)   ConvertSToF 456
             459:   19(fvec4)   Load 401(shadowClip)
                                Store 458(param) 459
                                Store 460(param) 457
             461:   16(float)   FunctionCall 62(filterPCF(vf4;f1;) 458(param) 460(param)
                                Store 451(shadowFactor) 461
             463:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 464 464 12 12
             462:   16(float)   Load 451(shadowFactor)
             465:   74(fvec3)   Load 80(fragcolor)
             466:   74(fvec3)   VectorTimesScalar 465 462
                                Store 80(fragcolor) 466
                                Branch 392
             392:               Label
             468:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
             469:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 386 386 12 12
             467:     98(int)   Load 383(i)
             470:     98(int)   IAdd 467 296
                                Store 383(i) 470
                                Branch 389
             391:             Label
             472:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
             473:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 474 474 12 12
             471:   74(fvec3) Load 80(fragcolor)
                              ReturnValue 471
                              FunctionEnd
