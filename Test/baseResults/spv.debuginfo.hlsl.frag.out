spv.debuginfo.hlsl.frag
// Module Version 10000
// Generated by (magic number): 8000b
// Id's are bound by 928

                              Capability Shader
                              Capability ImageQuery
                              Extension  "SPV_KHR_non_semantic_info"
               1:             ExtInstImport  "NonSemantic.Shader.DebugInfo.100"
               3:             ExtInstImport  "GLSL.std.450"
                              MemoryModel Logical GLSL450
                              EntryPoint Fragment 6  "main" 921 924
                              ExecutionMode 6 OriginUpperLeft
               2:             String  "spv.debuginfo.hlsl.frag"
               9:             String  "float"
              12:             String  "uint"
              38:             String  "textureProj"
              41:             String  "// OpModuleProcessed auto-map-locations
// OpModuleProcessed auto-map-bindings
// OpModuleProcessed entry-point main
// OpModuleProcessed client vulkan100
// OpModuleProcessed target-env vulkan1.0
// OpModuleProcessed keep-uncalled
// OpModuleProcessed hlsl-offsets
#line 1
/*
The MIT License (MIT)

Copyright (c) 2022 Google LLC
Copyright (c) 2022 Sascha Willems

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

Texture2D textureposition : register(t1);
SamplerState samplerposition : register(s1);
Texture2D textureNormal : register(t2);
SamplerState samplerNormal : register(s2);
Texture2D textureAlbedo : register(t3);
SamplerState samplerAlbedo : register(s3);
// Depth from the light's point of view
//layout (binding = 5) uniform sampler2DShadow samplerShadowMap;
Texture2DArray textureShadowMap : register(t5);
SamplerState samplerShadowMap : register(s5);

#define LIGHT_COUNT 3
#define SHADOW_FACTOR 0.25
#define AMBIENT_LIGHT 0.1
#define USE_PCF

struct Light
{
	float4 position;
	float4 target;
	float4 color;
	float4x4 viewMatrix;
};

struct UBO
{
	float4 viewPos;
	Light lights[LIGHT_COUNT];
	int useShadows;
	int displayDebugTarget;
};

cbuffer ubo : register(b4) { UBO ubo; }

float textureProj(float4 P, float layer, float2 offset)
{
	float shadow = 1.0;
	float4 shadowCoord = P / P.w;
	shadowCoord.xy = shadowCoord.xy * 0.5 + 0.5;

	if (shadowCoord.z > -1.0 && shadowCoord.z < 1.0)
	{
		float dist = textureShadowMap.Sample(samplerShadowMap, float3(shadowCoord.xy + offset, layer)).r;
		if (shadowCoord.w > 0.0 && dist < shadowCoord.z)
		{
			shadow = SHADOW_FACTOR;
		}
	}
	return shadow;
}

float filterPCF(float4 sc, float layer)
{
	int2 texDim; int elements; int levels;
	textureShadowMap.GetDimensions(0, texDim.x, texDim.y, elements, levels);
	float scale = 1.5;
	float dx = scale * 1.0 / float(texDim.x);
	float dy = scale * 1.0 / float(texDim.y);

	float shadowFactor = 0.0;
	int count = 0;
	int range = 1;

	for (int x = -range; x <= range; x++)
	{
		for (int y = -range; y <= range; y++)
		{
			shadowFactor += textureProj(sc, layer, float2(dx*x, dy*y));
			count++;
		}

	}
	return shadowFactor / count;
}

float3 shadow(float3 fragcolor, float3 fragPos) {
	for (int i = 0; i < LIGHT_COUNT; ++i)
	{
		float4 shadowClip = mul(ubo.lights[i].viewMatrix, float4(fragPos.xyz, 1.0));

		float shadowFactor;
		#ifdef USE_PCF
			shadowFactor= filterPCF(shadowClip, i);
		#else
			shadowFactor = textureProj(shadowClip, i, float2(0.0, 0.0));
		#endif

		fragcolor *= shadowFactor;
	}
	return fragcolor;
}

float4 main([[vk::location(0)]] float2 inUV : TEXCOORD0) : SV_TARGET
{
	// Get G-Buffer values
	float3 fragPos = textureposition.Sample(samplerposition, inUV).rgb;
	float3 normal = textureNormal.Sample(samplerNormal, inUV).rgb;
	float4 albedo = textureAlbedo.Sample(samplerAlbedo, inUV);

	float3 fragcolor;

	// Debug display
	if (ubo.displayDebugTarget > 0) {
		switch (ubo.displayDebugTarget) {
			case 1: 
				fragcolor.rgb = shadow(float3(1.0, 1.0, 1.0), fragPos);
				break;
			case 2: 
				fragcolor.rgb = fragPos;
				break;
			case 3: 
				fragcolor.rgb = normal;
				break;
			case 4: 
				fragcolor.rgb = albedo.rgb;
				break;
			case 5: 
				fragcolor.rgb = albedo.aaa;
				break;
		}		
		return float4(fragcolor, 1.0);
	}

	// Ambient part
	fragcolor  = albedo.rgb * AMBIENT_LIGHT;

	float3 N = normalize(normal);

	for(int i = 0; i < LIGHT_COUNT; ++i)
	{
		// Vector to light
		float3 L = ubo.lights[i].position.xyz - fragPos;
		// Distance from light to fragment position
		float dist = length(L);
		L = normalize(L);

		// Viewer to fragment
		float3 V = ubo.viewPos.xyz - fragPos;
		V = normalize(V);

		float lightCosInnerAngle = cos(radians(15.0));
		float lightCosOuterAngle = cos(radians(25.0));
		float lightRange = 100.0;

		// Direction vector from source to target
		float3 dir = normalize(ubo.lights[i].position.xyz - ubo.lights[i].target.xyz);

		// Dual cone spot light with smooth transition between inner and outer angle
		float cosDir = dot(L, dir);
		float spotEffect = smoothstep(lightCosOuterAngle, lightCosInnerAngle, cosDir);
		float heightAttenuation = smoothstep(lightRange, 0.0f, dist);

		// Diffuse lighting
		float NdotL = max(0.0, dot(N, L));
		float3 diff = NdotL.xxx;

		// Specular lighting
		float3 R = reflect(-L, N);
		float NdotR = max(0.0, dot(R, V));
		float3 spec = (pow(NdotR, 16.0) * albedo.a * 2.5).xxx;

		fragcolor += float3((diff + spec) * spotEffect * heightAttenuation) * ubo.lights[i].color.rgb * albedo.rgb;
	}

	// Shadow calculations in a separate pass
	if (ubo.useShadows > 0)
	{
		fragcolor = shadow(fragcolor, fragPos);
	}

	return float4(fragcolor, 1);
}
"
              47:             String  "P"
              53:             String  "layer"
              56:             String  "offset"
              64:             String  "filterPCF"
              68:             String  "sc"
              84:             String  "shadow"
              88:             String  "fragcolor"
              93:             String  "fragPos"
             100:             String  "@main"
             104:             String  "inUV"
             119:             String  "shadowCoord"
             146:             String  "bool"
             158:             String  "dist"
             165:             String  "type.2d.image"
             166:             String  "@type.2d.image"
             172:             String  "textureShadowMap"
             177:             String  "type.sampler"
             178:             String  "@type.sampler"
             183:             String  "samplerShadowMap"
             187:             String  "type.sampled.image"
             188:             String  "@type.sampled.image"
             229:             String  "int"
             237:             String  "texDim"
             246:             String  "elements"
             250:             String  "levels"
             258:             String  "sizeQueryTemp"
             282:             String  "scale"
             289:             String  "dx"
             301:             String  "dy"
             313:             String  "shadowFactor"
             319:             String  "count"
             326:             String  "range"
             334:             String  "x"
             357:             String  "y"
             425:             String  "i"
             445:             String  "shadowClip"
             460:             String  "color"
             466:             String  "viewMatrix"
             470:             String  "Light"
             476:             String  "lights"
             479:             String  "displayDebugTarget"
             484:             String  "UBO"
             487:             String  "ubo"
             495:             String  ""
             546:             String  "textureposition"
             551:             String  "samplerposition"
             561:             String  "normal"
             567:             String  "textureNormal"
             572:             String  "samplerNormal"
             580:             String  "albedo"
             586:             String  "textureAlbedo"
             591:             String  "samplerAlbedo"
             682:             String  "N"
             709:             String  "L"
             735:             String  "V"
             750:             String  "lightCosInnerAngle"
             757:             String  "lightCosOuterAngle"
             764:             String  "lightRange"
             771:             String  "dir"
             787:             String  "cosDir"
             796:             String  "spotEffect"
             806:             String  "heightAttenuation"
             815:             String  "NdotL"
             825:             String  "diff"
             833:             String  "R"
             843:             String  "NdotR"
             853:             String  "spec"
                              Name 6  "main"
                              Name 36  "textureProj(vf4;f1;vf2;"
                              Name 33  "P"
                              Name 34  "layer"
                              Name 35  "offset"
                              Name 62  "filterPCF(vf4;f1;"
                              Name 60  "sc"
                              Name 61  "layer"
                              Name 82  "shadow(vf3;vf3;"
                              Name 80  "fragcolor"
                              Name 81  "fragPos"
                              Name 98  "@main(vf2;"
                              Name 97  "inUV"
                              Name 110  "shadow"
                              Name 117  "shadowCoord"
                              Name 156  "dist"
                              Name 170  "textureShadowMap"
                              Name 181  "samplerShadowMap"
                              Name 235  "texDim"
                              Name 244  "elements"
                              Name 248  "levels"
                              Name 256  "sizeQueryTemp"
                              Name 280  "scale"
                              Name 287  "dx"
                              Name 299  "dy"
                              Name 311  "shadowFactor"
                              Name 317  "count"
                              Name 324  "range"
                              Name 332  "x"
                              Name 355  "y"
                              Name 389  "param"
                              Name 391  "param"
                              Name 393  "param"
                              Name 423  "i"
                              Name 443  "shadowClip"
                              Name 458  "Light"
                              MemberName 458(Light) 0  "position"
                              MemberName 458(Light) 1  "target"
                              MemberName 458(Light) 2  "color"
                              MemberName 458(Light) 3  "viewMatrix"
                              Name 473  "UBO"
                              MemberName 473(UBO) 0  "viewPos"
                              MemberName 473(UBO) 1  "lights"
                              MemberName 473(UBO) 2  "useShadows"
                              MemberName 473(UBO) 3  "displayDebugTarget"
                              Name 485  "ubo"
                              MemberName 485(ubo) 0  "ubo"
                              Name 493  ""
                              Name 502  "shadowFactor"
                              Name 511  "param"
                              Name 513  "param"
                              Name 534  "fragPos"
                              Name 544  "textureposition"
                              Name 549  "samplerposition"
                              Name 559  "normal"
                              Name 565  "textureNormal"
                              Name 570  "samplerNormal"
                              Name 578  "albedo"
                              Name 584  "textureAlbedo"
                              Name 589  "samplerAlbedo"
                              Name 596  "fragcolor"
                              Name 623  "param"
                              Name 627  "param"
                              Name 680  "N"
                              Name 689  "i"
                              Name 707  "L"
                              Name 722  "dist"
                              Name 733  "V"
                              Name 748  "lightCosInnerAngle"
                              Name 755  "lightCosOuterAngle"
                              Name 762  "lightRange"
                              Name 769  "dir"
                              Name 785  "cosDir"
                              Name 794  "spotEffect"
                              Name 804  "heightAttenuation"
                              Name 813  "NdotL"
                              Name 823  "diff"
                              Name 831  "R"
                              Name 841  "NdotR"
                              Name 851  "spec"
                              Name 899  "param"
                              Name 904  "param"
                              Name 919  "inUV"
                              Name 921  "inUV"
                              Name 924  "@entryPointOutput"
                              Name 925  "param"
                              Decorate 170(textureShadowMap) Binding 5
                              Decorate 170(textureShadowMap) DescriptorSet 0
                              Decorate 181(samplerShadowMap) Binding 5
                              Decorate 181(samplerShadowMap) DescriptorSet 0
                              MemberDecorate 458(Light) 0 Offset 0
                              MemberDecorate 458(Light) 1 Offset 16
                              MemberDecorate 458(Light) 2 Offset 32
                              MemberDecorate 458(Light) 3 RowMajor
                              MemberDecorate 458(Light) 3 MatrixStride 16
                              MemberDecorate 458(Light) 3 Offset 48
                              Decorate 471 ArrayStride 112
                              MemberDecorate 473(UBO) 0 Offset 0
                              MemberDecorate 473(UBO) 1 Offset 16
                              MemberDecorate 473(UBO) 2 Offset 352
                              MemberDecorate 473(UBO) 3 Offset 356
                              Decorate 485(ubo) Block
                              MemberDecorate 485(ubo) 0 Offset 0
                              Decorate 493 Binding 4
                              Decorate 493 DescriptorSet 0
                              Decorate 544(textureposition) Binding 1
                              Decorate 544(textureposition) DescriptorSet 0
                              Decorate 549(samplerposition) Binding 1
                              Decorate 549(samplerposition) DescriptorSet 0
                              Decorate 565(textureNormal) Binding 2
                              Decorate 565(textureNormal) DescriptorSet 0
                              Decorate 570(samplerNormal) Binding 2
                              Decorate 570(samplerNormal) DescriptorSet 0
                              Decorate 584(textureAlbedo) Binding 3
                              Decorate 584(textureAlbedo) DescriptorSet 0
                              Decorate 589(samplerAlbedo) Binding 3
                              Decorate 589(samplerAlbedo) DescriptorSet 0
                              Decorate 921(inUV) Location 0
                              Decorate 924(@entryPointOutput) Location 0
               4:             TypeVoid
               5:             TypeFunction 4
               8:             TypeFloat 32
              11:             TypeInt 32 0
              14:     11(int) Constant 32
              15:     11(int) Constant 6
              16:     11(int) Constant 0
              13:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 12 14 15 16
              17:     11(int) Constant 3
              10:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 9 14 17 16
              18:             TypeVector 8(float) 4
              19:     11(int) Constant 4
              20:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 10 19
              21:             TypePointer Function 18(fvec4)
              22:     11(int) Constant 7
              23:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 20 22 16
              24:             TypePointer Function 8(float)
              25:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 10 22 16
              26:             TypeVector 8(float) 2
              27:     11(int) Constant 2
              28:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 10 27
              29:             TypePointer Function 26(fvec2)
              30:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 28 22 16
              31:             TypeFunction 8(float) 21(ptr) 24(ptr) 29(ptr)
              32:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 17 10 20 10 28
              40:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 35(DebugSource) 2 41
              42:     11(int) Constant 61
              44:     11(int) Constant 1
              45:     11(int) Constant 5
              43:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 1(DebugCompilationUnit) 44 19 40 45
              39:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 38 32 40 42 16 43 38 17 42
              46:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 47 20 40 42 16 39 19 44
              49:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 31(DebugExpression)
              52:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 53 10 40 42 16 39 19 27
              55:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 56 28 40 42 16 39 19 17
              58:             TypeFunction 8(float) 21(ptr) 24(ptr)
              59:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 17 10 20 10
              66:     11(int) Constant 78
              65:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 64 59 40 66 16 43 64 17 66
              67:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 68 20 40 66 16 65 19 44
              72:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 53 10 40 66 16 65 19 27
              74:             TypeVector 8(float) 3
              75:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 10 17
              76:             TypePointer Function 74(fvec3)
              77:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 75 22 16
              78:             TypeFunction 74(fvec3) 76(ptr) 76(ptr)
              79:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 17 75 75 75
              86:     11(int) Constant 101
              85:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 84 79 40 86 16 43 84 17 86
              87:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 88 75 40 86 16 85 19 44
              92:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 93 75 40 86 16 85 19 27
              95:             TypeFunction 18(fvec4) 29(ptr)
              96:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 17 20 28
             102:     11(int) Constant 119
             101:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 100 96 40 102 16 43 100 17 102
             103:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 104 28 40 102 16 101 19 44
             109:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 39
             112:     11(int) Constant 62
             111:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 84 10 40 112 16 109 19
             116:    8(float) Constant 1065353216
             120:     11(int) Constant 63
             118:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 119 20 40 120 16 109 19
             130:     11(int) Constant 64
             132:    8(float) Constant 1056964608
             142:     11(int) Constant 66
             144:    8(float) Constant 3212836864
             145:             TypeBool
             147:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 146 14 27 16
             155:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 109
             159:     11(int) Constant 68
             157:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 158 10 40 159 16 155 19
             163:             TypeImage 8(float) 2D array sampled format:Unknown
             167:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 0(DebugInfoNone)
             164:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 165 16 40 159 16 43 166 167 17
             168:             TypePointer UniformConstant 163
             169:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 164 16 16
170(textureShadowMap):    168(ptr) Variable UniformConstant
             173:     11(int) Constant 8
             171:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 172 164 40 159 16 43 172 170(textureShadowMap) 173
             175:             TypeSampler
             176:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 177 44 40 159 16 43 178 167 17
             179:             TypePointer UniformConstant 175
             180:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 176 16 16
181(samplerShadowMap):    179(ptr) Variable UniformConstant
             182:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 183 176 40 159 16 43 183 181(samplerShadowMap) 173
             185:             TypeSampledImage 163
             186:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 187 16 40 159 16 43 188 167 17
             202:     11(int) Constant 69
             204:    8(float) Constant 0
             213:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 155
             214:    8(float) Constant 1048576000
             217:     11(int) Constant 71
             221:     11(int) Constant 74
             227:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 65
             228:             TypeInt 32 1
             230:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 229 14 19 16
             231:             TypeVector 228(int) 2
             232:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 230 27
             233:             TypePointer Function 231(ivec2)
             234:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 232 22 16
             238:     11(int) Constant 79
             236:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 237 232 40 238 16 227 19
             242:             TypePointer Function 228(int)
             243:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 230 22 16
             245:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 246 230 40 238 16 227 19
             249:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 250 230 40 238 16 227 19
             252:             TypeVector 11(int) 3
             253:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 13 17
             254:             TypePointer Function 252(ivec3)
             255:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 253 22 16
             259:     11(int) Constant 80
             257:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 258 253 40 259 16 227 19
             264:             TypePointer Function 11(int)
             265:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 13 22 16
             283:     11(int) Constant 81
             281:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 282 10 40 283 16 227 19
             286:    8(float) Constant 1069547520
             290:     11(int) Constant 82
             288:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 289 10 40 290 16 227 19
             302:     11(int) Constant 83
             300:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 301 10 40 302 16 227 19
             314:     11(int) Constant 85
             312:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 313 10 40 314 16 227 19
             320:     11(int) Constant 86
             318:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 319 230 40 320 16 227 19
             323:    228(int) Constant 0
             327:     11(int) Constant 87
             325:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 326 230 40 327 16 227 19
             330:    228(int) Constant 1
             331:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 227
             335:     11(int) Constant 89
             333:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 334 230 40 335 16 331 19
             353:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 331
             354:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 353
             358:     11(int) Constant 91
             356:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 357 230 40 358 16 354 19
             376:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 354
             380:     11(int) Constant 93
             399:     11(int) Constant 94
             412:     11(int) Constant 98
             421:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 85
             422:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 421
             426:     11(int) Constant 102
             424:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 425 230 40 426 16 422 19
             440:    228(int) Constant 3
             442:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 422
             446:     11(int) Constant 104
             444:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 445 20 40 446 16 442 19
             455:             TypeMatrix 18(fvec4) 4
             457:   145(bool) ConstantTrue
             456:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 108(DebugTypeMatrix) 20 19 457
      458(Light):             TypeStruct 18(fvec4) 18(fvec4) 18(fvec4) 455
             461:     11(int) Constant 46
             462:     11(int) Constant 14
             459:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 460 20 40 461 462 16 16 17
             463:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 460 20 40 461 462 16 16 17
             464:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 460 20 40 461 462 16 16 17
             467:     11(int) Constant 47
             468:     11(int) Constant 21
             465:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 466 456 40 467 468 16 16 17
             469:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 470 44 40 446 16 43 470 16 17 459 463 464 465
             471:             TypeArray 458(Light) 17
             472:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 5(DebugTypeArray) 469 17
        473(UBO):             TypeStruct 18(fvec4) 471 228(int) 228(int)
             474:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 460 20 40 461 462 16 16 17
             477:     11(int) Constant 53
             475:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 476 472 40 477 462 16 16 17
             480:     11(int) Constant 55
             481:     11(int) Constant 24
             478:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 479 230 40 480 481 16 16 17
             482:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 479 230 40 480 481 16 16 17
             483:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 484 44 40 446 16 43 484 16 17 474 475 478 482
        485(ubo):             TypeStruct 473(UBO)
             488:     11(int) Constant 58
             489:     11(int) Constant 37
             486:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 487 483 40 488 489 16 16 17
             490:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 487 44 40 446 16 43 487 16 17 486
             491:             TypePointer Uniform 485(ubo)
             492:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 490 27 16
             493:    491(ptr) Variable Uniform
             494:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 495 490 40 446 16 43 495 493 173
             497:             TypePointer Uniform 455
             498:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 456 27 16
             504:     11(int) Constant 106
             503:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 313 10 40 504 16 442 19
             509:     11(int) Constant 108
             517:     11(int) Constant 113
             527:     11(int) Constant 115
             533:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 101
             536:     11(int) Constant 121
             535:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 93 75 40 536 16 533 19
             540:             TypeImage 8(float) 2D sampled format:Unknown
             541:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 165 16 40 536 16 43 166 167 17
             542:             TypePointer UniformConstant 540
             543:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 541 16 16
544(textureposition):    542(ptr) Variable UniformConstant
             545:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 546 541 40 536 16 43 546 544(textureposition) 173
             548:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 177 44 40 536 16 43 178 167 17
549(samplerposition):    179(ptr) Variable UniformConstant
             550:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 551 548 40 536 16 43 551 549(samplerposition) 173
             553:             TypeSampledImage 540
             554:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 187 16 40 536 16 43 188 167 17
             562:     11(int) Constant 122
             560:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 561 75 40 562 16 533 19
565(textureNormal):    542(ptr) Variable UniformConstant
             566:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 567 541 40 562 16 43 567 565(textureNormal) 173
             569:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 177 44 40 562 16 43 178 167 17
570(samplerNormal):    179(ptr) Variable UniformConstant
             571:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 572 569 40 562 16 43 572 570(samplerNormal) 173
             581:     11(int) Constant 123
             579:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 580 20 40 581 16 533 19
584(textureAlbedo):    542(ptr) Variable UniformConstant
             585:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 586 541 40 581 16 43 586 584(textureAlbedo) 173
             588:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 177 44 40 581 16 43 178 167 17
589(samplerAlbedo):    179(ptr) Variable UniformConstant
             590:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 591 588 40 581 16 43 591 589(samplerAlbedo) 173
             598:     11(int) Constant 125
             597:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 88 75 40 598 16 533 19
             601:             TypePointer Uniform 228(int)
             602:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 230 27 16
             605:     11(int) Constant 128
             610:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 533
             614:     11(int) Constant 129
             622:   74(fvec3) ConstantComposite 116 116 116
             626:     11(int) Constant 131
             631:     11(int) Constant 132
             636:     11(int) Constant 134
             638:     11(int) Constant 135
             643:     11(int) Constant 137
             645:     11(int) Constant 138
             650:     11(int) Constant 140
             653:     11(int) Constant 141
             658:     11(int) Constant 143
             661:     11(int) Constant 144
             667:     11(int) Constant 146
             676:     11(int) Constant 150
             678:    8(float) Constant 1036831949
             683:     11(int) Constant 152
             681:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 682 75 40 683 16 533 19
             688:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 533
             691:     11(int) Constant 154
             690:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 425 230 40 691 16 688 19
             706:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 688
             710:     11(int) Constant 157
             708:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 709 75 40 710 16 706 19
             715:             TypePointer Uniform 18(fvec4)
             716:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 20 27 16
             724:     11(int) Constant 159
             723:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 158 10 40 724 16 706 19
             731:     11(int) Constant 160
             736:     11(int) Constant 163
             734:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 735 75 40 736 16 706 19
             746:     11(int) Constant 164
             751:     11(int) Constant 166
             749:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 750 10 40 751 16 706 19
             754:    8(float) Constant 1064781546
             758:     11(int) Constant 167
             756:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 757 10 40 758 16 706 19
             761:    8(float) Constant 1063781322
             765:     11(int) Constant 168
             763:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 764 10 40 765 16 706 19
             768:    8(float) Constant 1120403456
             772:     11(int) Constant 171
             770:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 771 75 40 772 16 706 19
             788:     11(int) Constant 174
             786:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 787 10 40 788 16 706 19
             797:     11(int) Constant 175
             795:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 796 10 40 797 16 706 19
             807:     11(int) Constant 176
             805:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 806 10 40 807 16 706 19
             816:     11(int) Constant 179
             814:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 815 10 40 816 16 706 19
             826:     11(int) Constant 180
             824:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 825 75 40 826 16 706 19
             834:     11(int) Constant 183
             832:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 833 75 40 834 16 706 19
             844:     11(int) Constant 184
             842:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 843 10 40 844 16 706 19
             854:     11(int) Constant 185
             852:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 853 75 40 854 16 706 19
             858:    8(float) Constant 1098907648
             863:    8(float) Constant 1075838976
             868:     11(int) Constant 187
             876:    228(int) Constant 2
             893:     11(int) Constant 191
             898:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 21(DebugLexicalBlock) 40 16 16 533
             903:     11(int) Constant 193
             910:     11(int) Constant 196
             920:             TypePointer Input 26(fvec2)
       921(inUV):    920(ptr) Variable Input
             923:             TypePointer Output 18(fvec4)
924(@entryPointOutput):    923(ptr) Variable Output
         6(main):           4 Function None 5
               7:             Label
       919(inUV):     29(ptr) Variable Function
      925(param):     29(ptr) Variable Function
             922:   26(fvec2) Load 921(inUV)
                              Store 919(inUV) 922
             926:   26(fvec2) Load 919(inUV)
                              Store 925(param) 926
             927:   18(fvec4) FunctionCall 98(@main(vf2;) 925(param)
                              Store 924(@entryPointOutput) 927
                              Return
                              FunctionEnd
36(textureProj(vf4;f1;vf2;):    8(float) Function None 31
           33(P):     21(ptr) FunctionParameter
       34(layer):     24(ptr) FunctionParameter
      35(offset):     29(ptr) FunctionParameter
              37:             Label
     110(shadow):     24(ptr) Variable Function
117(shadowCoord):     21(ptr) Variable Function
       156(dist):     24(ptr) Variable Function
              50:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 39
              51:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 42 42 16 16
              48:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 46 33(P) 49
              54:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 52 34(layer) 49
              57:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 55 35(offset) 49
             108:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 39 36(textureProj(vf4;f1;vf2;)
             114:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 109
             115:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 112 112 16 16
             113:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 111 110(shadow) 49
                              Store 110(shadow) 116
             122:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 120 120 16 16
             121:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 118 117(shadowCoord) 49
             123:   18(fvec4) Load 33(P)
             124:     24(ptr) AccessChain 33(P) 17
             125:    8(float) Load 124
             126:   18(fvec4) CompositeConstruct 125 125 125 125
             127:   18(fvec4) FDiv 123 126
                              Store 117(shadowCoord) 127
             129:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 130 130 16 16
             128:   18(fvec4) Load 117(shadowCoord)
             131:   26(fvec2) VectorShuffle 128 128 0 1
             133:   26(fvec2) VectorTimesScalar 131 132
             134:   26(fvec2) CompositeConstruct 132 132
             135:   26(fvec2) FAdd 133 134
             136:     24(ptr) AccessChain 117(shadowCoord) 16
             137:    8(float) CompositeExtract 135 0
                              Store 136 137
             138:     24(ptr) AccessChain 117(shadowCoord) 44
             139:    8(float) CompositeExtract 135 1
                              Store 138 139
             141:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 142 142 16 16
             140:     24(ptr) AccessChain 117(shadowCoord) 27
             143:    8(float) Load 140
             148:   145(bool) FOrdGreaterThan 143 144
             149:     24(ptr) AccessChain 117(shadowCoord) 27
             150:    8(float) Load 149
             151:   145(bool) FOrdLessThan 150 116
             152:   145(bool) LogicalAnd 148 151
                              SelectionMerge 154 None
                              BranchConditional 152 153 154
             153:               Label
             161:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 155
             162:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 159 159 16 16
             160:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 157 156(dist) 49
             174:         163   Load 170(textureShadowMap)
             184:         175   Load 181(samplerShadowMap)
             189:         185   SampledImage 174 184
             190:   18(fvec4)   Load 117(shadowCoord)
             191:   26(fvec2)   VectorShuffle 190 190 0 1
             192:   26(fvec2)   Load 35(offset)
             193:   26(fvec2)   FAdd 191 192
             194:    8(float)   Load 34(layer)
             195:    8(float)   CompositeExtract 193 0
             196:    8(float)   CompositeExtract 193 1
             197:   74(fvec3)   CompositeConstruct 195 196 194
             198:   18(fvec4)   ImageSampleImplicitLod 189 197
             199:    8(float)   CompositeExtract 198 0
                                Store 156(dist) 199
             201:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 202 202 16 16
             200:     24(ptr)   AccessChain 117(shadowCoord) 17
             203:    8(float)   Load 200
             205:   145(bool)   FOrdGreaterThan 203 204
             206:    8(float)   Load 156(dist)
             207:     24(ptr)   AccessChain 117(shadowCoord) 27
             208:    8(float)   Load 207
             209:   145(bool)   FOrdLessThan 206 208
             210:   145(bool)   LogicalAnd 205 209
                                SelectionMerge 212 None
                                BranchConditional 210 211 212
             211:                 Label
             215:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 213
             216:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 217 217 16 16
                                  Store 110(shadow) 214
                                  Branch 212
             212:               Label
                                Branch 154
             154:             Label
             219:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 109
             220:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 221 221 16 16
             218:    8(float) Load 110(shadow)
                              ReturnValue 218
                              FunctionEnd
62(filterPCF(vf4;f1;):    8(float) Function None 58
          60(sc):     21(ptr) FunctionParameter
       61(layer):     24(ptr) FunctionParameter
              63:             Label
     235(texDim):    233(ptr) Variable Function
   244(elements):    242(ptr) Variable Function
     248(levels):    242(ptr) Variable Function
256(sizeQueryTemp):    254(ptr) Variable Function
      280(scale):     24(ptr) Variable Function
         287(dx):     24(ptr) Variable Function
         299(dy):     24(ptr) Variable Function
311(shadowFactor):     24(ptr) Variable Function
      317(count):    242(ptr) Variable Function
      324(range):    242(ptr) Variable Function
          332(x):    242(ptr) Variable Function
          355(y):    242(ptr) Variable Function
      389(param):     21(ptr) Variable Function
      391(param):     24(ptr) Variable Function
      393(param):     29(ptr) Variable Function
              70:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
              71:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 66 66 16 16
              69:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 67 60(sc) 49
              73:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 72 61(layer) 49
             226:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 65 62(filterPCF(vf4;f1;)
             240:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 227
             241:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 238 238 16 16
             239:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 236 235(texDim) 49
             247:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 245 244(elements) 49
             251:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 249 248(levels) 49
             261:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 259 259 16 16
             260:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 257 256(sizeQueryTemp) 49
             262:         163 Load 170(textureShadowMap)
             263:  252(ivec3) ImageQuerySizeLod 262 16
                              Store 256(sizeQueryTemp) 263
             266:    264(ptr) AccessChain 256(sizeQueryTemp) 16
             267:     11(int) Load 266
             268:    228(int) Bitcast 267
             269:    242(ptr) AccessChain 235(texDim) 16
                              Store 269 268
             270:    264(ptr) AccessChain 256(sizeQueryTemp) 44
             271:     11(int) Load 270
             272:    228(int) Bitcast 271
             273:    242(ptr) AccessChain 235(texDim) 44
                              Store 273 272
             274:    264(ptr) AccessChain 256(sizeQueryTemp) 27
             275:     11(int) Load 274
             276:    228(int) Bitcast 275
                              Store 244(elements) 276
             277:         163 Load 170(textureShadowMap)
             278:     11(int) ImageQueryLevels 277
             279:    228(int) Bitcast 278
                              Store 248(levels) 279
             285:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 283 283 16 16
             284:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 281 280(scale) 49
                              Store 280(scale) 286
             292:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 290 290 16 16
             291:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 288 287(dx) 49
             293:    8(float) Load 280(scale)
             294:    8(float) FMul 293 116
             295:    242(ptr) AccessChain 235(texDim) 16
             296:    228(int) Load 295
             297:    8(float) ConvertSToF 296
             298:    8(float) FDiv 294 297
                              Store 287(dx) 298
             304:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 302 302 16 16
             303:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 300 299(dy) 49
             305:    8(float) Load 280(scale)
             306:    8(float) FMul 305 116
             307:    242(ptr) AccessChain 235(texDim) 44
             308:    228(int) Load 307
             309:    8(float) ConvertSToF 308
             310:    8(float) FDiv 306 309
                              Store 299(dy) 310
             316:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 314 314 16 16
             315:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 312 311(shadowFactor) 49
                              Store 311(shadowFactor) 204
             322:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 320 320 16 16
             321:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 318 317(count) 49
                              Store 317(count) 323
             329:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 327 327 16 16
             328:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 325 324(range) 49
                              Store 324(range) 330
             337:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 331
             338:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 335 335 16 16
             336:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 333 332(x) 49
             339:    228(int) Load 324(range)
             340:    228(int) SNegate 339
                              Store 332(x) 340
                              Branch 341
             341:             Label
             345:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 331
             346:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 335 335 16 16
                              LoopMerge 343 344 None
                              Branch 347
             347:             Label
             349:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 331
             350:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 335 335 16 16
             348:    228(int) Load 332(x)
             351:    228(int) Load 324(range)
             352:   145(bool) SLessThanEqual 348 351
                              BranchConditional 352 342 343
             342:               Label
             360:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 354
             361:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 358 358 16 16
             359:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 356 355(y) 49
             362:    228(int)   Load 324(range)
             363:    228(int)   SNegate 362
                                Store 355(y) 363
                                Branch 364
             364:               Label
             368:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 354
             369:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 358 358 16 16
                                LoopMerge 366 367 None
                                Branch 370
             370:               Label
             372:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 354
             373:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 358 358 16 16
             371:    228(int)   Load 355(y)
             374:    228(int)   Load 324(range)
             375:   145(bool)   SLessThanEqual 371 374
                                BranchConditional 375 365 366
             365:                 Label
             378:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 376
             379:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 380 380 16 16
             377:    8(float)     Load 287(dx)
             381:    228(int)     Load 332(x)
             382:    8(float)     ConvertSToF 381
             383:    8(float)     FMul 377 382
             384:    8(float)     Load 299(dy)
             385:    228(int)     Load 355(y)
             386:    8(float)     ConvertSToF 385
             387:    8(float)     FMul 384 386
             388:   26(fvec2)     CompositeConstruct 383 387
             390:   18(fvec4)     Load 60(sc)
                                  Store 389(param) 390
             392:    8(float)     Load 61(layer)
                                  Store 391(param) 392
                                  Store 393(param) 388
             394:    8(float)     FunctionCall 36(textureProj(vf4;f1;vf2;) 389(param) 391(param) 393(param)
             395:    8(float)     Load 311(shadowFactor)
             396:    8(float)     FAdd 395 394
                                  Store 311(shadowFactor) 396
             398:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 399 399 16 16
             397:    228(int)     Load 317(count)
             400:    228(int)     IAdd 397 330
                                  Store 317(count) 400
                                  Branch 367
             367:                 Label
             402:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 354
             403:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 358 358 16 16
             401:    228(int)     Load 355(y)
             404:    228(int)     IAdd 401 330
                                  Store 355(y) 404
                                  Branch 364
             366:               Label
                                Branch 344
             344:               Label
             406:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 331
             407:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 335 335 16 16
             405:    228(int)   Load 332(x)
             408:    228(int)   IAdd 405 330
                                Store 332(x) 408
                                Branch 341
             343:             Label
             410:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 227
             411:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 412 412 16 16
             409:    8(float) Load 311(shadowFactor)
             413:    228(int) Load 317(count)
             414:    8(float) ConvertSToF 413
             415:    8(float) FDiv 409 414
                              ReturnValue 415
                              FunctionEnd
82(shadow(vf3;vf3;):   74(fvec3) Function None 78
   80(fragcolor):     76(ptr) FunctionParameter
     81(fragPos):     76(ptr) FunctionParameter
              83:             Label
          423(i):    242(ptr) Variable Function
 443(shadowClip):     21(ptr) Variable Function
502(shadowFactor):     24(ptr) Variable Function
      511(param):     21(ptr) Variable Function
      513(param):     24(ptr) Variable Function
              90:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
              91:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 86 86 16 16
              89:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 87 80(fragcolor) 49
              94:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 92 81(fragPos) 49
             420:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 85 82(shadow(vf3;vf3;)
             428:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 422
             429:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 426 426 16 16
             427:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 424 423(i) 49
                              Store 423(i) 323
                              Branch 430
             430:             Label
             434:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 422
             435:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 426 426 16 16
                              LoopMerge 432 433 None
                              Branch 436
             436:             Label
             438:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 422
             439:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 426 426 16 16
             437:    228(int) Load 423(i)
             441:   145(bool) SLessThan 437 440
                              BranchConditional 441 431 432
             431:               Label
             448:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 442
             449:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 446 446 16 16
             447:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 444 443(shadowClip) 49
             450:   74(fvec3)   Load 81(fragPos)
             451:    8(float)   CompositeExtract 450 0
             452:    8(float)   CompositeExtract 450 1
             453:    8(float)   CompositeExtract 450 2
             454:   18(fvec4)   CompositeConstruct 451 452 453 116
             496:    228(int)   Load 423(i)
             499:    497(ptr)   AccessChain 493 323 330 496 440
             500:         455   Load 499
             501:   18(fvec4)   VectorTimesMatrix 454 500
                                Store 443(shadowClip) 501
             506:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 504 504 16 16
             505:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 503 502(shadowFactor) 49
             508:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 509 509 16 16
             507:    228(int)   Load 423(i)
             510:    8(float)   ConvertSToF 507
             512:   18(fvec4)   Load 443(shadowClip)
                                Store 511(param) 512
                                Store 513(param) 510
             514:    8(float)   FunctionCall 62(filterPCF(vf4;f1;) 511(param) 513(param)
                                Store 502(shadowFactor) 514
             516:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 517 517 16 16
             515:    8(float)   Load 502(shadowFactor)
             518:   74(fvec3)   Load 80(fragcolor)
             519:   74(fvec3)   VectorTimesScalar 518 515
                                Store 80(fragcolor) 519
                                Branch 433
             433:               Label
             521:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 422
             522:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 426 426 16 16
             520:    228(int)   Load 423(i)
             523:    228(int)   IAdd 520 330
                                Store 423(i) 523
                                Branch 430
             432:             Label
             525:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 421
             526:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 527 527 16 16
             524:   74(fvec3) Load 80(fragcolor)
                              ReturnValue 524
                              FunctionEnd
  98(@main(vf2;):   18(fvec4) Function None 95
        97(inUV):     29(ptr) FunctionParameter
              99:             Label
    534(fragPos):     76(ptr) Variable Function
     559(normal):     76(ptr) Variable Function
     578(albedo):     21(ptr) Variable Function
  596(fragcolor):     76(ptr) Variable Function
      623(param):     76(ptr) Variable Function
      627(param):     76(ptr) Variable Function
          680(N):     76(ptr) Variable Function
          689(i):    242(ptr) Variable Function
          707(L):     76(ptr) Variable Function
       722(dist):     24(ptr) Variable Function
          733(V):     76(ptr) Variable Function
748(lightCosInnerAngle):     24(ptr) Variable Function
755(lightCosOuterAngle):     24(ptr) Variable Function
 762(lightRange):     24(ptr) Variable Function
        769(dir):     76(ptr) Variable Function
     785(cosDir):     24(ptr) Variable Function
 794(spotEffect):     24(ptr) Variable Function
804(heightAttenuation):     24(ptr) Variable Function
      813(NdotL):     24(ptr) Variable Function
       823(diff):     76(ptr) Variable Function
          831(R):     76(ptr) Variable Function
      841(NdotR):     24(ptr) Variable Function
       851(spec):     76(ptr) Variable Function
      899(param):     76(ptr) Variable Function
      904(param):     76(ptr) Variable Function
             106:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 101
             107:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 102 102 16 16
             105:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 103 97(inUV) 49
             532:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 101 98(@main(vf2;)
             538:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 533
             539:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 536 536 16 16
             537:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 535 534(fragPos) 49
             547:         540 Load 544(textureposition)
             552:         175 Load 549(samplerposition)
             555:         553 SampledImage 547 552
             556:   26(fvec2) Load 97(inUV)
             557:   18(fvec4) ImageSampleImplicitLod 555 556
             558:   74(fvec3) VectorShuffle 557 557 0 1 2
                              Store 534(fragPos) 558
             564:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 562 562 16 16
             563:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 560 559(normal) 49
             568:         540 Load 565(textureNormal)
             573:         175 Load 570(samplerNormal)
             574:         553 SampledImage 568 573
             575:   26(fvec2) Load 97(inUV)
             576:   18(fvec4) ImageSampleImplicitLod 574 575
             577:   74(fvec3) VectorShuffle 576 576 0 1 2
                              Store 559(normal) 577
             583:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 581 581 16 16
             582:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 579 578(albedo) 49
             587:         540 Load 584(textureAlbedo)
             592:         175 Load 589(samplerAlbedo)
             593:         553 SampledImage 587 592
             594:   26(fvec2) Load 97(inUV)
             595:   18(fvec4) ImageSampleImplicitLod 593 594
                              Store 578(albedo) 595
             600:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 598 598 16 16
             599:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 597 596(fragcolor) 49
             604:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 605 605 16 16
             603:    601(ptr) AccessChain 493 323 440
             606:    228(int) Load 603
             607:   145(bool) SGreaterThan 606 323
                              SelectionMerge 609 None
                              BranchConditional 607 608 609
             608:               Label
             612:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 610
             613:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 614 614 16 16
             611:    601(ptr)   AccessChain 493 323 440
             615:    228(int)   Load 611
                                SelectionMerge 621 None
                                Switch 615 621 
                                       case 1: 616
                                       case 2: 617
                                       case 3: 618
                                       case 4: 619
                                       case 5: 620
             616:                 Label
             624:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 610
             625:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 626 626 16 16
                                  Store 623(param) 622
             628:   74(fvec3)     Load 534(fragPos)
                                  Store 627(param) 628
             629:   74(fvec3)     FunctionCall 82(shadow(vf3;vf3;) 623(param) 627(param)
                                  Store 596(fragcolor) 629
             630:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 631 631 16 16
                                  Branch 621
             617:                 Label
             634:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 610
             635:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 636 636 16 16
             633:   74(fvec3)     Load 534(fragPos)
                                  Store 596(fragcolor) 633
             637:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 638 638 16 16
                                  Branch 621
             618:                 Label
             641:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 610
             642:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 643 643 16 16
             640:   74(fvec3)     Load 559(normal)
                                  Store 596(fragcolor) 640
             644:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 645 645 16 16
                                  Branch 621
             619:                 Label
             648:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 610
             649:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 650 650 16 16
             647:   18(fvec4)     Load 578(albedo)
             651:   74(fvec3)     VectorShuffle 647 647 0 1 2
                                  Store 596(fragcolor) 651
             652:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 653 653 16 16
                                  Branch 621
             620:                 Label
             656:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 610
             657:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 658 658 16 16
             655:   18(fvec4)     Load 578(albedo)
             659:   74(fvec3)     VectorShuffle 655 655 3 3 3
                                  Store 596(fragcolor) 659
             660:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 661 661 16 16
                                  Branch 621
             621:               Label
             665:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 610
             666:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 667 667 16 16
             664:   74(fvec3)   Load 596(fragcolor)
             668:    8(float)   CompositeExtract 664 0
             669:    8(float)   CompositeExtract 664 1
             670:    8(float)   CompositeExtract 664 2
             671:   18(fvec4)   CompositeConstruct 668 669 670 116
                                ReturnValue 671
             609:             Label
             674:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 533
             675:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 676 676 16 16
             673:   18(fvec4) Load 578(albedo)
             677:   74(fvec3) VectorShuffle 673 673 0 1 2
             679:   74(fvec3) VectorTimesScalar 677 678
                              Store 596(fragcolor) 679
             685:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 683 683 16 16
             684:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 681 680(N) 49
             686:   74(fvec3) Load 559(normal)
             687:   74(fvec3) ExtInst 3(GLSL.std.450) 69(Normalize) 686
                              Store 680(N) 687
             693:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 688
             694:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 691 691 16 16
             692:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 690 689(i) 49
                              Store 689(i) 323
                              Branch 695
             695:             Label
             699:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 688
             700:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 691 691 16 16
                              LoopMerge 697 698 None
                              Branch 701
             701:             Label
             703:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 688
             704:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 691 691 16 16
             702:    228(int) Load 689(i)
             705:   145(bool) SLessThan 702 440
                              BranchConditional 705 696 697
             696:               Label
             712:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 706
             713:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 710 710 16 16
             711:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 708 707(L) 49
             714:    228(int)   Load 689(i)
             717:    715(ptr)   AccessChain 493 323 330 714 323
             718:   18(fvec4)   Load 717
             719:   74(fvec3)   VectorShuffle 718 718 0 1 2
             720:   74(fvec3)   Load 534(fragPos)
             721:   74(fvec3)   FSub 719 720
                                Store 707(L) 721
             726:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 724 724 16 16
             725:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 723 722(dist) 49
             727:   74(fvec3)   Load 707(L)
             728:    8(float)   ExtInst 3(GLSL.std.450) 66(Length) 727
                                Store 722(dist) 728
             730:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 731 731 16 16
             729:   74(fvec3)   Load 707(L)
             732:   74(fvec3)   ExtInst 3(GLSL.std.450) 69(Normalize) 729
                                Store 707(L) 732
             738:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 736 736 16 16
             737:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 734 733(V) 49
             739:    715(ptr)   AccessChain 493 323 323
             740:   18(fvec4)   Load 739
             741:   74(fvec3)   VectorShuffle 740 740 0 1 2
             742:   74(fvec3)   Load 534(fragPos)
             743:   74(fvec3)   FSub 741 742
                                Store 733(V) 743
             745:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 746 746 16 16
             744:   74(fvec3)   Load 733(V)
             747:   74(fvec3)   ExtInst 3(GLSL.std.450) 69(Normalize) 744
                                Store 733(V) 747
             753:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 751 751 16 16
             752:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 749 748(lightCosInnerAngle) 49
                                Store 748(lightCosInnerAngle) 754
             760:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 758 758 16 16
             759:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 756 755(lightCosOuterAngle) 49
                                Store 755(lightCosOuterAngle) 761
             767:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 765 765 16 16
             766:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 763 762(lightRange) 49
                                Store 762(lightRange) 768
             774:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 772 772 16 16
             773:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 770 769(dir) 49
             775:    228(int)   Load 689(i)
             776:    715(ptr)   AccessChain 493 323 330 775 323
             777:   18(fvec4)   Load 776
             778:   74(fvec3)   VectorShuffle 777 777 0 1 2
             779:    228(int)   Load 689(i)
             780:    715(ptr)   AccessChain 493 323 330 779 330
             781:   18(fvec4)   Load 780
             782:   74(fvec3)   VectorShuffle 781 781 0 1 2
             783:   74(fvec3)   FSub 778 782
             784:   74(fvec3)   ExtInst 3(GLSL.std.450) 69(Normalize) 783
                                Store 769(dir) 784
             790:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 788 788 16 16
             789:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 786 785(cosDir) 49
             791:   74(fvec3)   Load 707(L)
             792:   74(fvec3)   Load 769(dir)
             793:    8(float)   Dot 791 792
                                Store 785(cosDir) 793
             799:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 797 797 16 16
             798:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 795 794(spotEffect) 49
             800:    8(float)   Load 755(lightCosOuterAngle)
             801:    8(float)   Load 748(lightCosInnerAngle)
             802:    8(float)   Load 785(cosDir)
             803:    8(float)   ExtInst 3(GLSL.std.450) 49(SmoothStep) 800 801 802
                                Store 794(spotEffect) 803
             809:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 807 807 16 16
             808:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 805 804(heightAttenuation) 49
             810:    8(float)   Load 762(lightRange)
             811:    8(float)   Load 722(dist)
             812:    8(float)   ExtInst 3(GLSL.std.450) 49(SmoothStep) 810 204 811
                                Store 804(heightAttenuation) 812
             818:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 816 816 16 16
             817:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 814 813(NdotL) 49
             819:   74(fvec3)   Load 680(N)
             820:   74(fvec3)   Load 707(L)
             821:    8(float)   Dot 819 820
             822:    8(float)   ExtInst 3(GLSL.std.450) 40(FMax) 204 821
                                Store 813(NdotL) 822
             828:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 826 826 16 16
             827:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 824 823(diff) 49
             829:    8(float)   Load 813(NdotL)
             830:   74(fvec3)   CompositeConstruct 829 829 829
                                Store 823(diff) 830
             836:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 834 834 16 16
             835:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 832 831(R) 49
             837:   74(fvec3)   Load 707(L)
             838:   74(fvec3)   FNegate 837
             839:   74(fvec3)   Load 680(N)
             840:   74(fvec3)   ExtInst 3(GLSL.std.450) 71(Reflect) 838 839
                                Store 831(R) 840
             846:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 844 844 16 16
             845:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 842 841(NdotR) 49
             847:   74(fvec3)   Load 831(R)
             848:   74(fvec3)   Load 733(V)
             849:    8(float)   Dot 847 848
             850:    8(float)   ExtInst 3(GLSL.std.450) 40(FMax) 204 849
                                Store 841(NdotR) 850
             856:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 854 854 16 16
             855:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 852 851(spec) 49
             857:    8(float)   Load 841(NdotR)
             859:    8(float)   ExtInst 3(GLSL.std.450) 26(Pow) 857 858
             860:     24(ptr)   AccessChain 578(albedo) 17
             861:    8(float)   Load 860
             862:    8(float)   FMul 859 861
             864:    8(float)   FMul 862 863
             865:   74(fvec3)   CompositeConstruct 864 864 864
                                Store 851(spec) 865
             867:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 868 868 16 16
             866:   74(fvec3)   Load 823(diff)
             869:   74(fvec3)   Load 851(spec)
             870:   74(fvec3)   FAdd 866 869
             871:    8(float)   Load 794(spotEffect)
             872:   74(fvec3)   VectorTimesScalar 870 871
             873:    8(float)   Load 804(heightAttenuation)
             874:   74(fvec3)   VectorTimesScalar 872 873
             875:    228(int)   Load 689(i)
             877:    715(ptr)   AccessChain 493 323 330 875 876
             878:   18(fvec4)   Load 877
             879:   74(fvec3)   VectorShuffle 878 878 0 1 2
             880:   74(fvec3)   FMul 874 879
             881:   18(fvec4)   Load 578(albedo)
             882:   74(fvec3)   VectorShuffle 881 881 0 1 2
             883:   74(fvec3)   FMul 880 882
             884:   74(fvec3)   Load 596(fragcolor)
             885:   74(fvec3)   FAdd 884 883
                                Store 596(fragcolor) 885
                                Branch 698
             698:               Label
             887:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 688
             888:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 691 691 16 16
             886:    228(int)   Load 689(i)
             889:    228(int)   IAdd 886 330
                                Store 689(i) 889
                                Branch 695
             697:             Label
             891:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 533
             892:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 893 893 16 16
             890:    601(ptr) AccessChain 493 323 876
             894:    228(int) Load 890
             895:   145(bool) SGreaterThan 894 323
                              SelectionMerge 897 None
                              BranchConditional 895 896 897
             896:               Label
             901:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 898
             902:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 903 903 16 16
             900:   74(fvec3)   Load 596(fragcolor)
                                Store 899(param) 900
             905:   74(fvec3)   Load 534(fragPos)
                                Store 904(param) 905
             906:   74(fvec3)   FunctionCall 82(shadow(vf3;vf3;) 899(param) 904(param)
                                Store 596(fragcolor) 906
                                Branch 897
             897:             Label
             908:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 533
             909:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 40 910 910 16 16
             907:   74(fvec3) Load 596(fragcolor)
             911:    8(float) CompositeExtract 907 0
             912:    8(float) CompositeExtract 907 1
             913:    8(float) CompositeExtract 907 2
             914:   18(fvec4) CompositeConstruct 911 912 913 116
                              ReturnValue 914
                              FunctionEnd
