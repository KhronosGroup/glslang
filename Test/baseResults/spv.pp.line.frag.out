spv.pp.line.frag
WARNING: spv.pp.line.frag:7: varying deprecated in version 130; may be removed in future release
WARNING: spv.pp.line.frag:8: varying deprecated in version 130; may be removed in future release

// Module Version 10000
// Generated by (magic number): 8000b
// Id's are bound by 84

                              Capability Shader
                              Capability Sampled1D
               2:             ExtInstImport  "GLSL.std.450"
                              MemoryModel Logical GLSL450
                              EntryPoint Fragment 5  "main" 23 26 29 76
                              ExecutionMode 5 OriginUpperLeft
               1:             String  "spv.pp.line.frag"
               7:             String  "header.h"
                              Source GLSL 140 1  "// OpModuleProcessed auto-map-locations
// OpModuleProcessed auto-map-bindings
// OpModuleProcessed client vulkan100
// OpModuleProcessed target-env vulkan1.0
// OpModuleProcessed keep-uncalled
// OpModuleProcessed entry-point main
#line 1
#version 140
#extension GL_GOOGLE_cpp_style_line_directive : require

uniform sampler1D       texSampler1D;
uniform sampler2D       texSampler2D;

varying float blend;
varying vec4 u;

in  vec2 coords2D;

#line 0 "header.h"
float myAbs(float x) {
    if (x > 0) {
        return x;
    }
    else {
        return -x;
    }
}

#line 22 "spv.pp.line.frag"
void main()
{
    float blendscale = myAbs(1.789);
    float bias       = 2.0;
    float coords1D   = 1.789;
    vec4  color      = vec4(0.0, 0.0, 0.0, 0.0);
#line 53
    color += texture    (texSampler1D, coords1D);
    color += texture    (texSampler1D, coords1D, bias);
#line 102
    color += texture        (texSampler2D, coords2D);
    color += texture        (texSampler2D, coords2D, bias);

    gl_FragColor = mix(color, u, blend * blendscale);
}
"
                              SourceExtension  "GL_GOOGLE_cpp_style_line_directive"
                              Name 5  "main"
                              Name 12  "myAbs(f1;"
                              Name 11  "x"
                              Name 17  "texSampler1D"
                              Name 21  "texSampler2D"
                              Name 23  "blend"
                              Name 26  "u"
                              Name 29  "coords2D"
                              Name 43  "blendscale"
                              Name 45  "param"
                              Name 47  "bias"
                              Name 49  "coords1D"
                              Name 51  "color"
                              Name 76  "gl_FragColor"
                              Decorate 17(texSampler1D) Binding 0
                              Decorate 17(texSampler1D) DescriptorSet 0
                              Decorate 21(texSampler2D) Binding 1
                              Decorate 21(texSampler2D) DescriptorSet 0
                              Decorate 23(blend) Location 0
                              Decorate 26(u) Location 1
                              Decorate 29(coords2D) Location 2
                              Decorate 76(gl_FragColor) Location 0
               3:             TypeVoid
               4:             TypeFunction 3
               8:             TypeFloat 32
               9:             TypePointer Function 8(float)
              10:             TypeFunction 8(float) 9(ptr)
              14:             TypeImage 8(float) 1D sampled format:Unknown
              15:             TypeSampledImage 14
              16:             TypePointer UniformConstant 15
17(texSampler1D):     16(ptr) Variable UniformConstant
              18:             TypeImage 8(float) 2D sampled format:Unknown
              19:             TypeSampledImage 18
              20:             TypePointer UniformConstant 19
21(texSampler2D):     20(ptr) Variable UniformConstant
              22:             TypePointer Input 8(float)
       23(blend):     22(ptr) Variable Input
              24:             TypeVector 8(float) 4
              25:             TypePointer Input 24(fvec4)
           26(u):     25(ptr) Variable Input
              27:             TypeVector 8(float) 2
              28:             TypePointer Input 27(fvec2)
    29(coords2D):     28(ptr) Variable Input
              31:    8(float) Constant 0
              32:             TypeBool
              44:    8(float) Constant 1071971828
              48:    8(float) Constant 1073741824
              50:             TypePointer Function 24(fvec4)
              52:   24(fvec4) ConstantComposite 31 31 31 31
              75:             TypePointer Output 24(fvec4)
76(gl_FragColor):     75(ptr) Variable Output
                              Line 1 23 11
         5(main):           3 Function None 4
               6:             Label
  43(blendscale):      9(ptr) Variable Function
       45(param):      9(ptr) Variable Function
        47(bias):      9(ptr) Variable Function
    49(coords1D):      9(ptr) Variable Function
       51(color):     50(ptr) Variable Function
                              Line 1 25 0
                              Store 45(param) 44
              46:    8(float) FunctionCall 12(myAbs(f1;) 45(param)
                              Store 43(blendscale) 46
                              Line 1 26 0
                              Store 47(bias) 48
                              Line 1 27 0
                              Store 49(coords1D) 44
                              Line 1 28 0
                              Store 51(color) 52
                              Line 1 54 0
              53:          15 Load 17(texSampler1D)
              54:    8(float) Load 49(coords1D)
              55:   24(fvec4) ImageSampleImplicitLod 53 54
              56:   24(fvec4) Load 51(color)
              57:   24(fvec4) FAdd 56 55
                              Store 51(color) 57
                              Line 1 55 0
              58:          15 Load 17(texSampler1D)
              59:    8(float) Load 49(coords1D)
              60:    8(float) Load 47(bias)
              61:   24(fvec4) ImageSampleImplicitLod 58 59 Bias 60
              62:   24(fvec4) Load 51(color)
              63:   24(fvec4) FAdd 62 61
                              Store 51(color) 63
                              Line 1 103 0
              64:          19 Load 21(texSampler2D)
              65:   27(fvec2) Load 29(coords2D)
              66:   24(fvec4) ImageSampleImplicitLod 64 65
              67:   24(fvec4) Load 51(color)
              68:   24(fvec4) FAdd 67 66
                              Store 51(color) 68
                              Line 1 104 0
              69:          19 Load 21(texSampler2D)
              70:   27(fvec2) Load 29(coords2D)
              71:    8(float) Load 47(bias)
              72:   24(fvec4) ImageSampleImplicitLod 69 70 Bias 71
              73:   24(fvec4) Load 51(color)
              74:   24(fvec4) FAdd 73 72
                              Store 51(color) 74
                              Line 1 106 0
              77:   24(fvec4) Load 51(color)
              78:   24(fvec4) Load 26(u)
              79:    8(float) Load 23(blend)
              80:    8(float) Load 43(blendscale)
              81:    8(float) FMul 79 80
              82:   24(fvec4) CompositeConstruct 81 81 81 81
              83:   24(fvec4) ExtInst 2(GLSL.std.450) 46(FMix) 77 78 82
                              Store 76(gl_FragColor) 83
                              Line 1 107 0
                              Return
                              FunctionEnd
                              Line 7 1 20
   12(myAbs(f1;):    8(float) Function None 10
           11(x):      9(ptr) FunctionParameter
              13:             Label
                              Line 7 2 0
              30:    8(float) Load 11(x)
              33:    32(bool) FOrdGreaterThan 30 31
                              SelectionMerge 35 None
                              BranchConditional 33 34 38
              34:               Label
                                Line 7 3 0
              36:    8(float)   Load 11(x)
                                ReturnValue 36
              38:               Label
                                Line 7 6 0
              39:    8(float)   Load 11(x)
              40:    8(float)   FNegate 39
                                ReturnValue 40
              35:             Label
                              Unreachable
                              FunctionEnd
